<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>Auto-Rewind for Daily Test (Apache NuttX RTOS)</title>

    
    <!-- Begin scripts/articles/*-header.html: Article Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<meta property="og:title" 
    content="Auto-Rewind for Daily Test (Apache NuttX RTOS)" 
    data-rh="true">
<meta property="og:description" 
    content=""
    data-rh="true">
<meta name="description" 
    content="">
<meta property="og:image" 
    content="https://lupyuen.github.io/images/rewind-title.jpg">
<meta property="og:type" 
    content="article" data-rh="true">
<link rel="canonical"
    href="https://lupyuen.org/articles/rewind.html" />
<!-- End scripts/articles/*-header.html -->
<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<link rel="stylesheet" type="text/css" href="../prism.css">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
</style>
<!-- End scripts/rustdoc-header.html -->


</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    
    <!-- Begin scripts/rustdoc-before.html: Pre-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker -->
    <div class="theme-picker" style="left: 0"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg"
        width="18" alt="Pick another theme!"></button>
        <div id="theme-choices"></div>
    </div>
    <!-- Theme Picker -->

    <!-- End scripts/rustdoc-before.html -->
    

    <h1 class="title">Auto-Rewind for Daily Test (Apache NuttX RTOS)</h1>
    <nav id="rustdoc"><ul>
<li><a href="#todo" title="TODO">1 TODO</a><ul></ul></li>
<li><a href="#whats-next" title="What‚Äôs Next">2 What‚Äôs Next</a><ul></ul></li></ul></nav><p>üìù <em>26 Feb 2025</em></p>
<p><img src="https://lupyuen.github.io/images/rewind-title.jpg" alt="TODO" /></p>
<p>If the <strong>Daily Test</strong> fails for <a href="TODO"><strong>Apache NuttX RTOS</strong></a>‚Ä¶ Can we <strong>Auto-Rewind</strong> and discover the <strong>Breaking Commit</strong>? Let‚Äôs find out!</p>
<ol>
<li>
<p>Every Day at 00:00 UTC: <a href="TODO"><strong>Ubuntu Cron</strong></a> shall trigger a <strong>Daily Buld and Test</strong> of NuttX for <strong>QEMU RISC-V</strong> <em>(knsh64 / 64-bit Kernel Build)</em></p>
</li>
<li>
<p><strong>If The Test Fails:</strong> Our Machine will <a href="TODO"><strong>Backtrack The Commits</strong></a>, rebuilding and retesting each commit <em>(on QEMU Emulator)</em></p>
</li>
<li>
<p>When it discovers the <strong>Breaking Commit</strong>: Our Machine shall post a <a href="TODO"><strong>Mastodon Alert</strong></a>, that includes the <em>(suspicious)</em> <strong>Pull Request</strong></p>
</li>
<li>
<p><strong>Bonus:</strong> The Machine will draft a <a href="TODO"><strong>Polite Note</strong></a> for our NuttX Colleague to investigate the Pull Request, please</p>
</li>
</ol>
<p><em>Why are we doing this?</em></p>
<p><strong>If NuttX Fails on QEMU RISC-V:</strong> High chance that NuttX will also fail on <strong>RISC-V SBCs</strong> like Ox64 BL808 and Oz64 SG2000.</p>
<p>Thus it‚Äôs important to Nip the Bud and Fix the Bug, before it hurts our RISC-V Devs. <em>(Be Kind, Rewind!)</em></p>
<h1 id="todo"><a class="doc-anchor" href="#todo">¬ß</a>1 TODO</h1><div class="example-wrap"><pre class="language-text"><code>nuttx-rewind-notify

export PROMETHEUS_SERVER=luppys-mac-mini.local:9090
./run.sh&quot;,

cron:
</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Cron Job
https://help.ubuntu.com/community/CronHowto
. $HOME/gitlab-token.sh &amp;&amp; glab auth status &amp;&amp; cd $HOME/nuttx-build-farm &amp;&amp; ./rewind-build.sh rv-virt:knsh64_test8 HEAD HEAD 1 20

crontab -e

## Run every day at 00:00 UTC
0 0 * * * /home/luppy/nuttx-build-farm/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-build

## Run every hour at 00:16, 01:16, 12:16, ...
16 * * * * /home/luppy/nuttx-build-farm/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-build

tail -f /var/log/syslog
&lt;&lt;
2025-01-31T15:15:33.725765+08:00 thinkstation crontab[2982952]: (luppy) BEGIN EDIT (luppy)
2025-01-31T15:15:53.889440+08:00 thinkstation crontab[2982952]: (luppy) REPLACE (luppy)
2025-01-31T15:15:53.889656+08:00 thinkstation crontab[2982952]: (luppy) END EDIT (luppy)

2025-01-31T17:13:01.834380+08:00 thinkstation CRON[1234832]: (luppy) CMD (/home/luppy/nuttx-build-farm/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-build)
2025-01-31T17:13:01.834657+08:00 thinkstation nuttx-rewind-build: + target=rv-virt:knsh64_test8
2025-01-31T17:13:01.834800+08:00 thinkstation nuttx-rewind-build: + nuttx_hash=HEAD
2025-01-31T17:13:01.834869+08:00 thinkstation nuttx-rewind-build: + apps_hash=HEAD
2025-01-31T17:13:01.834924+08:00 thinkstation nuttx-rewind-build: + min_commits=1
2025-01-31T17:13:01.834982+08:00 thinkstation nuttx-rewind-build: + max_commits=20
2025-01-31T17:13:01.835036+08:00 thinkstation nuttx-rewind-build: + script_path=/home/luppy/nuttx-build-farm/cron.sh
2025-01-31T17:13:01.835093+08:00 thinkstation nuttx-rewind-build: +++ dirname -- /home/luppy/nuttx-build-farm/cron.sh
2025-01-31T17:13:01.835145+08:00 thinkstation nuttx-rewind-build: ++ cd -P /home/luppy/nuttx-build-farm
2025-01-31T17:13:01.835197+08:00 thinkstation nuttx-rewind-build: ++ pwd
2025-01-31T17:13:01.835249+08:00 thinkstation nuttx-rewind-build: + script_dir=/home/luppy/nuttx-build-farm
2025-01-31T17:13:01.835301+08:00 thinkstation nuttx-rewind-build: + cd /home/luppy/nuttx-build-farm
2025-01-31T17:13:01.835359+08:00 thinkstation nuttx-rewind-build: + ./rewind-build.sh rv-virt:knsh64_test8 HEAD HEAD 1 20
2025-01-31T17:13:01.835415+08:00 thinkstation nuttx-rewind-build: Now running https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh rv-virt:knsh64_test8 HEAD HEAD 1 20
...
2025-01-31T17:17:56.123175+08:00 thinkstation nuttx-rewind-build: - Creating snippet in lupyuen/nuttx-build-log
2025-01-31T17:17:57.586891+08:00 thinkstation nuttx-rewind-build: https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4801032
2025-01-31T17:17:57.591633+08:00 thinkstation nuttx-rewind-build: + next_hash=4606f1f9e1e897ce508f9dcadcc57dea979041b5
2025-01-31T17:17:57.591815+08:00 thinkstation nuttx-rewind-build: + nuttx_hash=11a47a4b0c3b4c371578bc3e578b2088dffbb678
2025-01-31T17:17:57.591922+08:00 thinkstation nuttx-rewind-build: + timestamp=2025-01-31T04:53:36
2025-01-31T17:17:57.592019+08:00 thinkstation nuttx-rewind-build: + (( count++ ))
2025-01-31T17:17:57.592118+08:00 thinkstation nuttx-rewind-build: + [[ 1 == \1 ]]
2025-01-31T17:17:57.592208+08:00 thinkstation nuttx-rewind-build: + break
2025-01-31T17:17:57.592298+08:00 thinkstation nuttx-rewind-build: + set +x
2025-01-31T17:17:57.592406+08:00 thinkstation nuttx-rewind-build: ***** Done!
&gt;&gt;

Without logger:
&lt;&lt;
2025-01-31T15:40:47.812335+08:00 thinkstation CRON[280259]: (CRON) info (No MTA installed, discarding output)
&gt;&gt;

ls -l /tmp
drwxrwxr-x  4 luppy luppy    4096 Jan 31 15:17 rewind-build-rv-virt:knsh64_test8
drwxrwxr-x  3 luppy luppy    4096 Jan 31 15:17 build-test-knsh64

tail -f /tmp/rewind-build-rv-virt:knsh64_test8/*.log
&lt;&lt;
Final memory usage:
VARIABLE  BEFORE   AFTER
======== ======== ========
arena       81000    81000
ordblks         2        3
mxordblk    7cff8    78ff8
uordblks     2660     4570
fordblks    7e9a0    7ca90
user_main: Exiting
ostest_main: Exiting with status 0

===== Test OK

+ res=0
+ set -e
+ set +x
res=0
====================================================================================
+ echo res=0
res=0
+ [[ 0 != \0 ]]
+ echo &#39;***** Build / Test OK for Previous Commit: nuttx @ 11a47a4b0c3b4c371578bc3e578b2088dffbb678 / nuttx-apps @ e1e28eb88ad153711223cab612f5d5bd019f8dd4&#39;
***** Build / Test OK for Previous Commit: nuttx @ 11a47a4b0c3b4c371578bc3e578b2088dffbb678 / nuttx-apps @ e1e28eb88ad153711223cab612f5d5bd019f8dd4
+ [[ 4606f1f9e1e897ce508f9dcadcc57dea979041b5 != \4\6\0\6\f\1\f\9\e\1\e\8\9\7\c\e\5\0\8\f\9\d\c\a\d\c\c\5\7\d\e\a\9\7\9\0\4\1\b\5 ]]
+ df -H
&gt;&gt;

Check the snippets
https://gitlab.com/lupyuen/nuttx-build-log/-/snippets</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>If Hash=HEAD:
Convert to Commit ID

build_score{
    config!=&quot;leds64_zig&quot;,
    user!=&quot;nuttxlinux&quot;,
    user!=&quot;nuttxmacos&quot;,
    user!=&quot;jerpelea&quot;
} &lt; 0.5
</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Delete Snippet
https://docs.gitlab.com/ee/api/snippets.html#delete-snippet

curl --request DELETE \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/snippets/1&quot;</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Create Snippet
https://docs.gitlab.com/ee/api/snippets.html#create-new-snippet

snippet.json
&lt;&lt;
{
  &quot;title&quot;: &quot;This is a snippet&quot;,
  &quot;description&quot;: &quot;Hello World snippet&quot;,
  &quot;visibility&quot;: &quot;public&quot;,
  &quot;files&quot;: [
    {
      &quot;content&quot;: &quot;Hello world&quot;,
      &quot;file_path&quot;: &quot;test.txt&quot;
    }
  ]
}
&gt;&gt;

. $HOME/gitlab-token.sh
user=lupyuen
repo=nuttx-build-log
curl --url https://gitlab.com/api/v4/projects/$user%2F$repo/snippets \
  --header &#39;Content-Type: application/json&#39; \
  --header &quot;PRIVATE-TOKEN: $GITLAB_TOKEN&quot; \

curl --request POST &quot;https://gitlab.com/api/v4/projects/$user%2F$repo/snippets&quot; \
  --header &#39;Content-Type: application/json&#39; \
  --header &quot;PRIVATE-TOKEN: $GITLAB_TOKEN&quot; \
  -d @snippet.json

https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800488</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Get Log

build_score{
target=&quot;rv-virt:knsh64_test5&quot;,
build_score_prev=&quot;1&quot;
} == 0

Breaking Commit:
nuttx_hash=&quot;657247bda89d60112d79bb9b8d223eca5f9641b5&quot;

build_score{
target=&quot;rv-virt:knsh64_test5&quot;,
nuttx_hash=&quot;657247bda89d60112d79bb9b8d223eca5f9641b5&quot;
}

url=&quot;https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4799962#L85&quot;

Starting at Line 85: Search for lines starting with &quot;+ &quot; or &quot;spawn&quot;

wget https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4799962/raw/main/ci-unknown.log
grep &quot;^+ &quot; ci-unknown.log

&lt;&lt;
+ /home/luppy/nuttx-build-farm/build-test-knsh64.sh 657247bda89d60112d79bb9b8d223eca5f9641b5 a6b9e718460a56722205c2a84a9b07b94ca664aa
+ nuttx_hash=657247bda89d60112d79bb9b8d223eca5f9641b5
+ apps_hash=a6b9e718460a56722205c2a84a9b07b94ca664aa
+ neofetch
+ tmp_path=/tmp/build-test-knsh64
+ rm -rf /tmp/build-test-knsh64
+ mkdir /tmp/build-test-knsh64
+ cd /tmp/build-test-knsh64
+ git clone https://github.com/apache/nuttx
+ git clone https://github.com/apache/nuttx-apps apps
+ [[ 657247bda89d60112d79bb9b8d223eca5f9641b5 != &#39;&#39; ]]
+ pushd nuttx
+ git reset --hard 657247bda89d60112d79bb9b8d223eca5f9641b5
+ popd
+ [[ a6b9e718460a56722205c2a84a9b07b94ca664aa != &#39;&#39; ]]
+ pushd apps
+ git reset --hard a6b9e718460a56722205c2a84a9b07b94ca664aa
+ popd
+ set +x
+ riscv-none-elf-gcc -v
+ rustup --version
+ rustc --version
+ cd nuttx
+ tools/configure.sh rv-virt:knsh64
+ make -j
+ riscv-none-elf-size nuttx
+ make -j export
+ ./tools/mkimport.sh -z -x ../nuttx/nuttx-export-12.8.0.tar.gz
+ make -j import
+ popd
+ qemu-system-riscv64 --version
+ script=qemu-riscv-knsh64
+ wget https://raw.githubusercontent.com/lupyuen/nuttx-riscv64/main/qemu-riscv-knsh64.exp
spawn qemu-system-riscv64 -semihosting -M virt,aclint=on -cpu rv64 -kernel nuttx -nographic
+ expect ./qemu-riscv-knsh64.exp
&gt;&gt;

Include Commit Info
&lt;&lt;
+ git reset --hard 657247bda89d60112d79bb9b8d223eca5f9641b5
HEAD is now at 657247bda8 libc/modlib: preprocess gnu-elf.ld
NuttX Source: https://github.com/apache/nuttx/tree/657247bda89d60112d79bb9b8d223eca5f9641b5
NuttX Apps: https://github.com/apache/nuttx-apps/tree/a6b9e718460a56722205c2a84a9b07b94ca664aa
&gt;&gt;

Include QEMU and OpenSBI version
&lt;&lt;
+ qemu-system-riscv64 --version
QEMU emulator version 8.2.2 (Debian 1:8.2.2+ds-0ubuntu1.4)

+ expect ./qemu-riscv-knsh64.exp
spawn qemu-system-riscv64 -semihosting -M virt,aclint=on -cpu rv64 -kernel nuttx -nographic

OpenSBI v1.3
&gt;&gt;

Extract Log from Line Number till &quot;===== &quot;
Extract 5 lines:
&quot;+ git reset &quot;
&quot;NuttX Source: &quot;
&quot;NuttX Apps: &quot;
&quot;+ qemu&quot;
&quot;+ expect ./qemu&quot;

Search for lines starting with &quot;===== Error: Test Failed&quot; or &quot;===== Test OK&quot;
Backtrack last 10 lines
</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Get Breaking PR

List pull requests associated with a commit
https://docs.github.com/en/rest/commits/commits?apiVersion=2022-11-28#list-pull-requests-associated-with-a-commit

commit=be40c01ddd6f43a527abeae31042ba7978aabb58
curl -L \
  -H &quot;Accept: application/vnd.github+json&quot; \
  -H &quot;X-GitHub-Api-Version: 2022-11-28&quot; \
  https://api.github.com/repos/apache/nuttx/commits/$commit/pulls

[
  {
    &quot;url&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/15444&quot;,
    &quot;id&quot;: 2263146908,
    &quot;node_id&quot;: &quot;PR_kwDODZiUac6G5OGc&quot;,
    &quot;html_url&quot;: &quot;https://github.com/apache/nuttx/pull/15444&quot;,
    &quot;diff_url&quot;: &quot;https://github.com/apache/nuttx/pull/15444.diff&quot;,
    &quot;patch_url&quot;: &quot;https://github.com/apache/nuttx/pull/15444.patch&quot;,
    &quot;issue_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues/15444&quot;,
    &quot;number&quot;: 15444,
    &quot;state&quot;: &quot;closed&quot;,
    &quot;locked&quot;: false,
    &quot;title&quot;: &quot;modlib: preprocess gnu-elf.ld for executable ELF&quot;,
    &quot;user&quot;: {
      &quot;login&quot;: &quot;yf13&quot;,
      &quot;id&quot;: 5899566,
      &quot;node_id&quot;: &quot;MDQ6VXNlcjU4OTk1NjY=&quot;,
      &quot;avatar_url&quot;: &quot;https://avatars.githubusercontent.com/u/5899566?v=4&quot;,
      &quot;gravatar_id&quot;: &quot;&quot;,
      &quot;url&quot;: &quot;https://api.github.com/users/yf13&quot;,
      &quot;html_url&quot;: &quot;https://github.com/yf13&quot;,
      &quot;followers_url&quot;: &quot;https://api.github.com/users/yf13/followers&quot;,
      &quot;following_url&quot;: &quot;https://api.github.com/users/yf13/following{/other_user}&quot;,
      &quot;gists_url&quot;: &quot;https://api.github.com/users/yf13/gists{/gist_id}&quot;,
      &quot;starred_url&quot;: &quot;https://api.github.com/users/yf13/starred{/owner}{/repo}&quot;,
      &quot;subscriptions_url&quot;: &quot;https://api.github.com/users/yf13/subscriptions&quot;,
      &quot;organizations_url&quot;: &quot;https://api.github.com/users/yf13/orgs&quot;,
      &quot;repos_url&quot;: &quot;https://api.github.com/users/yf13/repos&quot;,
      &quot;events_url&quot;: &quot;https://api.github.com/users/yf13/events{/privacy}&quot;,
      &quot;received_events_url&quot;: &quot;https://api.github.com/users/yf13/received_events&quot;,
      &quot;type&quot;: &quot;User&quot;,
      &quot;user_view_type&quot;: &quot;public&quot;,
      &quot;site_admin&quot;: false
    },
    &quot;body&quot;: &quot;# Summary\r\n\r\nThis allows apps for kernel mode NuttX (e.g. on arm/qemu-armv7a) can be built as executable type ELF files. Benefits of executable programs are smaller in size and easier GDB debugging.\r\n\r\nInitial scope was only for qemu-armv7a but it used an almost duplicated `gnu-elf.ld` which differs only at `.text` and `.data` addresses from the `gnu-elf.ld` in modlib.  \r\n\r\nTo avoid such duplications, a preprocessed `gnu-elf.ld` in modlib is added  so that to adapt to target config. This requires minor tweaks for `addrenv.h` so that some macros can be included in `gnu-elf.ld.in`.\r\n\r\n# Impacts\r\n\r\nHardware: qemu-armv7a or using kernel build.\r\n\r\n# Testing\r\n\r\n- local checks with QEMU v6.2 on Ubuntu 22.04: `qemu-armv7a:knsh`, `bl602evb:elf`.\r\n- CI checks\r\n\r\n&quot;,
    &quot;created_at&quot;: &quot;2025-01-07T06:30:43Z&quot;,
    &quot;updated_at&quot;: &quot;2025-01-14T04:41:41Z&quot;,
    &quot;closed_at&quot;: &quot;2025-01-11T10:54:36Z&quot;,
    &quot;merged_at&quot;: &quot;2025-01-11T10:54:36Z&quot;,
    &quot;merge_commit_sha&quot;: &quot;ff488133c9348901fc6abd3890299a9f9d81dec6&quot;,
    &quot;assignee&quot;: null,
    &quot;assignees&quot;: [

    ],
    &quot;requested_reviewers&quot;: [

    ],
    &quot;requested_teams&quot;: [

    ],
    &quot;labels&quot;: [
      {
        &quot;id&quot;: 7292036618,
        &quot;node_id&quot;: &quot;LA_kwDODZiUac8AAAABsqOmCg&quot;,
        &quot;url&quot;: &quot;https://api.github.com/repos/apache/nuttx/labels/Arch:%20all&quot;,
        &quot;name&quot;: &quot;Arch: all&quot;,
        &quot;color&quot;: &quot;DC5544&quot;,
        &quot;default&quot;: false,
        &quot;description&quot;: &quot;Issues that apply to all architectures&quot;
      },
      {
        &quot;id&quot;: 7292038640,
        &quot;node_id&quot;: &quot;LA_kwDODZiUac8AAAABsqOt8A&quot;,
        &quot;url&quot;: &quot;https://api.github.com/repos/apache/nuttx/labels/Arch:%20arm&quot;,
        &quot;name&quot;: &quot;Arch: arm&quot;,
        &quot;color&quot;: &quot;DC5544&quot;,
        &quot;default&quot;: false,
        &quot;description&quot;: &quot;Issues related to ARM (32-bit) architecture&quot;
      },
      {
        &quot;id&quot;: 7292097170,
        &quot;node_id&quot;: &quot;LA_kwDODZiUac8AAAABsqSSkg&quot;,
        &quot;url&quot;: &quot;https://api.github.com/repos/apache/nuttx/labels/Area:%20OS%20Components&quot;,
        &quot;name&quot;: &quot;Area: OS Components&quot;,
        &quot;color&quot;: &quot;0075ca&quot;,
        &quot;default&quot;: false,
        &quot;description&quot;: &quot;OS Components issues&quot;
      },
      {
        &quot;id&quot;: 7486822345,
        &quot;node_id&quot;: &quot;LA_kwDODZiUac8AAAABvj_XyQ&quot;,
        &quot;url&quot;: &quot;https://api.github.com/repos/apache/nuttx/labels/Size:%20S&quot;,
        &quot;name&quot;: &quot;Size: S&quot;,
        &quot;color&quot;: &quot;FEF2C0&quot;,
        &quot;default&quot;: false,
        &quot;description&quot;: &quot;The size of the change in this PR is small&quot;
      }
    ],
    &quot;milestone&quot;: null,
    &quot;draft&quot;: false,
    &quot;commits_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/15444/commits&quot;,
    &quot;review_comments_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/15444/comments&quot;,
    &quot;review_comment_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/comments{/number}&quot;,
    &quot;comments_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues/15444/comments&quot;,
    &quot;statuses_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/statuses/1be695191cd77b426ac53914cf0ebc0e60617c8c&quot;,
    &quot;head&quot;: {
      &quot;label&quot;: &quot;yf13:a7mi&quot;,
      &quot;ref&quot;: &quot;a7mi&quot;,
      &quot;sha&quot;: &quot;1be695191cd77b426ac53914cf0ebc0e60617c8c&quot;,
      &quot;user&quot;: {
        &quot;login&quot;: &quot;yf13&quot;,
        &quot;id&quot;: 5899566,
        &quot;node_id&quot;: &quot;MDQ6VXNlcjU4OTk1NjY=&quot;,
        &quot;avatar_url&quot;: &quot;https://avatars.githubusercontent.com/u/5899566?v=4&quot;,
        &quot;gravatar_id&quot;: &quot;&quot;,
        &quot;url&quot;: &quot;https://api.github.com/users/yf13&quot;,
        &quot;html_url&quot;: &quot;https://github.com/yf13&quot;,
        &quot;followers_url&quot;: &quot;https://api.github.com/users/yf13/followers&quot;,
        &quot;following_url&quot;: &quot;https://api.github.com/users/yf13/following{/other_user}&quot;,
        &quot;gists_url&quot;: &quot;https://api.github.com/users/yf13/gists{/gist_id}&quot;,
        &quot;starred_url&quot;: &quot;https://api.github.com/users/yf13/starred{/owner}{/repo}&quot;,
        &quot;subscriptions_url&quot;: &quot;https://api.github.com/users/yf13/subscriptions&quot;,
        &quot;organizations_url&quot;: &quot;https://api.github.com/users/yf13/orgs&quot;,
        &quot;repos_url&quot;: &quot;https://api.github.com/users/yf13/repos&quot;,
        &quot;events_url&quot;: &quot;https://api.github.com/users/yf13/events{/privacy}&quot;,
        &quot;received_events_url&quot;: &quot;https://api.github.com/users/yf13/received_events&quot;,
        &quot;type&quot;: &quot;User&quot;,
        &quot;user_view_type&quot;: &quot;public&quot;,
        &quot;site_admin&quot;: false
      },
      &quot;repo&quot;: {
        &quot;id&quot;: 730975045,
        &quot;node_id&quot;: &quot;R_kgDOK5HLRQ&quot;,
        &quot;name&quot;: &quot;nuttx&quot;,
        &quot;full_name&quot;: &quot;yf13/nuttx&quot;,
        &quot;private&quot;: false,
        &quot;owner&quot;: {
          &quot;login&quot;: &quot;yf13&quot;,
          &quot;id&quot;: 5899566,
          &quot;node_id&quot;: &quot;MDQ6VXNlcjU4OTk1NjY=&quot;,
          &quot;avatar_url&quot;: &quot;https://avatars.githubusercontent.com/u/5899566?v=4&quot;,
          &quot;gravatar_id&quot;: &quot;&quot;,
          &quot;url&quot;: &quot;https://api.github.com/users/yf13&quot;,
          &quot;html_url&quot;: &quot;https://github.com/yf13&quot;,
          &quot;followers_url&quot;: &quot;https://api.github.com/users/yf13/followers&quot;,
          &quot;following_url&quot;: &quot;https://api.github.com/users/yf13/following{/other_user}&quot;,
          &quot;gists_url&quot;: &quot;https://api.github.com/users/yf13/gists{/gist_id}&quot;,
          &quot;starred_url&quot;: &quot;https://api.github.com/users/yf13/starred{/owner}{/repo}&quot;,
          &quot;subscriptions_url&quot;: &quot;https://api.github.com/users/yf13/subscriptions&quot;,
          &quot;organizations_url&quot;: &quot;https://api.github.com/users/yf13/orgs&quot;,
          &quot;repos_url&quot;: &quot;https://api.github.com/users/yf13/repos&quot;,
          &quot;events_url&quot;: &quot;https://api.github.com/users/yf13/events{/privacy}&quot;,
          &quot;received_events_url&quot;: &quot;https://api.github.com/users/yf13/received_events&quot;,
          &quot;type&quot;: &quot;User&quot;,
          &quot;user_view_type&quot;: &quot;public&quot;,
          &quot;site_admin&quot;: false
        },
        &quot;html_url&quot;: &quot;https://github.com/yf13/nuttx&quot;,
        &quot;description&quot;: &quot;Apache NuttX is a mature, real-time embedded operating system (RTOS)&quot;,
        &quot;fork&quot;: true,
        &quot;url&quot;: &quot;https://api.github.com/repos/yf13/nuttx&quot;,
        &quot;forks_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/forks&quot;,
        &quot;keys_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/keys{/key_id}&quot;,
        &quot;collaborators_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/collaborators{/collaborator}&quot;,
        &quot;teams_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/teams&quot;,
        &quot;hooks_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/hooks&quot;,
        &quot;issue_events_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/issues/events{/number}&quot;,
        &quot;events_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/events&quot;,
        &quot;assignees_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/assignees{/user}&quot;,
        &quot;branches_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/branches{/branch}&quot;,
        &quot;tags_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/tags&quot;,
        &quot;blobs_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/git/blobs{/sha}&quot;,
        &quot;git_tags_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/git/tags{/sha}&quot;,
        &quot;git_refs_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/git/refs{/sha}&quot;,
        &quot;trees_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/git/trees{/sha}&quot;,
        &quot;statuses_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/statuses/{sha}&quot;,
        &quot;languages_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/languages&quot;,
        &quot;stargazers_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/stargazers&quot;,
        &quot;contributors_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/contributors&quot;,
        &quot;subscribers_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/subscribers&quot;,
        &quot;subscription_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/subscription&quot;,
        &quot;commits_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/commits{/sha}&quot;,
        &quot;git_commits_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/git/commits{/sha}&quot;,
        &quot;comments_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/comments{/number}&quot;,
        &quot;issue_comment_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/issues/comments{/number}&quot;,
        &quot;contents_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/contents/{+path}&quot;,
        &quot;compare_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/compare/{base}...{head}&quot;,
        &quot;merges_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/merges&quot;,
        &quot;archive_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/{archive_format}{/ref}&quot;,
        &quot;downloads_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/downloads&quot;,
        &quot;issues_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/issues{/number}&quot;,
        &quot;pulls_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/pulls{/number}&quot;,
        &quot;milestones_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/milestones{/number}&quot;,
        &quot;notifications_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/notifications{?since,all,participating}&quot;,
        &quot;labels_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/labels{/name}&quot;,
        &quot;releases_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/releases{/id}&quot;,
        &quot;deployments_url&quot;: &quot;https://api.github.com/repos/yf13/nuttx/deployments&quot;,
        &quot;created_at&quot;: &quot;2023-12-13T04:50:13Z&quot;,
        &quot;updated_at&quot;: &quot;2025-01-22T05:52:32Z&quot;,
        &quot;pushed_at&quot;: &quot;2025-01-27T01:39:23Z&quot;,
        &quot;git_url&quot;: &quot;git://github.com/yf13/nuttx.git&quot;,
        &quot;ssh_url&quot;: &quot;git@github.com:yf13/nuttx.git&quot;,
        &quot;clone_url&quot;: &quot;https://github.com/yf13/nuttx.git&quot;,
        &quot;svn_url&quot;: &quot;https://github.com/yf13/nuttx&quot;,
        &quot;homepage&quot;: &quot;https://nuttx.apache.org/&quot;,
        &quot;size&quot;: 315415,
        &quot;stargazers_count&quot;: 2,
        &quot;watchers_count&quot;: 2,
        &quot;language&quot;: &quot;C&quot;,
        &quot;has_issues&quot;: false,
        &quot;has_projects&quot;: true,
        &quot;has_downloads&quot;: true,
        &quot;has_wiki&quot;: false,
        &quot;has_pages&quot;: true,
        &quot;has_discussions&quot;: false,
        &quot;forks_count&quot;: 0,
        &quot;mirror_url&quot;: null,
        &quot;archived&quot;: false,
        &quot;disabled&quot;: false,
        &quot;open_issues_count&quot;: 0,
        &quot;license&quot;: {
          &quot;key&quot;: &quot;apache-2.0&quot;,
          &quot;name&quot;: &quot;Apache License 2.0&quot;,
          &quot;spdx_id&quot;: &quot;Apache-2.0&quot;,
          &quot;url&quot;: &quot;https://api.github.com/licenses/apache-2.0&quot;,
          &quot;node_id&quot;: &quot;MDc6TGljZW5zZTI=&quot;
        },
        &quot;allow_forking&quot;: true,
        &quot;is_template&quot;: false,
        &quot;web_commit_signoff_required&quot;: false,
        &quot;topics&quot;: [

        ],
        &quot;visibility&quot;: &quot;public&quot;,
        &quot;forks&quot;: 0,
        &quot;open_issues&quot;: 0,
        &quot;watchers&quot;: 2,
        &quot;default_branch&quot;: &quot;master&quot;
      }
    },
    &quot;base&quot;: {
      &quot;label&quot;: &quot;apache:master&quot;,
      &quot;ref&quot;: &quot;master&quot;,
      &quot;sha&quot;: &quot;91c71ed00a61ca4ba46000be9e814074e6a70e49&quot;,
      &quot;user&quot;: {
        &quot;login&quot;: &quot;apache&quot;,
        &quot;id&quot;: 47359,
        &quot;node_id&quot;: &quot;MDEyOk9yZ2FuaXphdGlvbjQ3MzU5&quot;,
        &quot;avatar_url&quot;: &quot;https://avatars.githubusercontent.com/u/47359?v=4&quot;,
        &quot;gravatar_id&quot;: &quot;&quot;,
        &quot;url&quot;: &quot;https://api.github.com/users/apache&quot;,
        &quot;html_url&quot;: &quot;https://github.com/apache&quot;,
        &quot;followers_url&quot;: &quot;https://api.github.com/users/apache/followers&quot;,
        &quot;following_url&quot;: &quot;https://api.github.com/users/apache/following{/other_user}&quot;,
        &quot;gists_url&quot;: &quot;https://api.github.com/users/apache/gists{/gist_id}&quot;,
        &quot;starred_url&quot;: &quot;https://api.github.com/users/apache/starred{/owner}{/repo}&quot;,
        &quot;subscriptions_url&quot;: &quot;https://api.github.com/users/apache/subscriptions&quot;,
        &quot;organizations_url&quot;: &quot;https://api.github.com/users/apache/orgs&quot;,
        &quot;repos_url&quot;: &quot;https://api.github.com/users/apache/repos&quot;,
        &quot;events_url&quot;: &quot;https://api.github.com/users/apache/events{/privacy}&quot;,
        &quot;received_events_url&quot;: &quot;https://api.github.com/users/apache/received_events&quot;,
        &quot;type&quot;: &quot;Organization&quot;,
        &quot;user_view_type&quot;: &quot;public&quot;,
        &quot;site_admin&quot;: false
      },
      &quot;repo&quot;: {
        &quot;id&quot;: 228103273,
        &quot;node_id&quot;: &quot;MDEwOlJlcG9zaXRvcnkyMjgxMDMyNzM=&quot;,
        &quot;name&quot;: &quot;nuttx&quot;,
        &quot;full_name&quot;: &quot;apache/nuttx&quot;,
        &quot;private&quot;: false,
        &quot;owner&quot;: {
          &quot;login&quot;: &quot;apache&quot;,
          &quot;id&quot;: 47359,
          &quot;node_id&quot;: &quot;MDEyOk9yZ2FuaXphdGlvbjQ3MzU5&quot;,
          &quot;avatar_url&quot;: &quot;https://avatars.githubusercontent.com/u/47359?v=4&quot;,
          &quot;gravatar_id&quot;: &quot;&quot;,
          &quot;url&quot;: &quot;https://api.github.com/users/apache&quot;,
          &quot;html_url&quot;: &quot;https://github.com/apache&quot;,
          &quot;followers_url&quot;: &quot;https://api.github.com/users/apache/followers&quot;,
          &quot;following_url&quot;: &quot;https://api.github.com/users/apache/following{/other_user}&quot;,
          &quot;gists_url&quot;: &quot;https://api.github.com/users/apache/gists{/gist_id}&quot;,
          &quot;starred_url&quot;: &quot;https://api.github.com/users/apache/starred{/owner}{/repo}&quot;,
          &quot;subscriptions_url&quot;: &quot;https://api.github.com/users/apache/subscriptions&quot;,
          &quot;organizations_url&quot;: &quot;https://api.github.com/users/apache/orgs&quot;,
          &quot;repos_url&quot;: &quot;https://api.github.com/users/apache/repos&quot;,
          &quot;events_url&quot;: &quot;https://api.github.com/users/apache/events{/privacy}&quot;,
          &quot;received_events_url&quot;: &quot;https://api.github.com/users/apache/received_events&quot;,
          &quot;type&quot;: &quot;Organization&quot;,
          &quot;user_view_type&quot;: &quot;public&quot;,
          &quot;site_admin&quot;: false
        },
        &quot;html_url&quot;: &quot;https://github.com/apache/nuttx&quot;,
        &quot;description&quot;: &quot;Apache NuttX is a mature, real-time embedded operating system (RTOS)&quot;,
        &quot;fork&quot;: false,
        &quot;url&quot;: &quot;https://api.github.com/repos/apache/nuttx&quot;,
        &quot;forks_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/forks&quot;,
        &quot;keys_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/keys{/key_id}&quot;,
        &quot;collaborators_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/collaborators{/collaborator}&quot;,
        &quot;teams_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/teams&quot;,
        &quot;hooks_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/hooks&quot;,
        &quot;issue_events_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues/events{/number}&quot;,
        &quot;events_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/events&quot;,
        &quot;assignees_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/assignees{/user}&quot;,
        &quot;branches_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/branches{/branch}&quot;,
        &quot;tags_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/tags&quot;,
        &quot;blobs_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/git/blobs{/sha}&quot;,
        &quot;git_tags_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/git/tags{/sha}&quot;,
        &quot;git_refs_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/git/refs{/sha}&quot;,
        &quot;trees_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/git/trees{/sha}&quot;,
        &quot;statuses_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/statuses/{sha}&quot;,
        &quot;languages_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/languages&quot;,
        &quot;stargazers_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/stargazers&quot;,
        &quot;contributors_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/contributors&quot;,
        &quot;subscribers_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/subscribers&quot;,
        &quot;subscription_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/subscription&quot;,
        &quot;commits_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/commits{/sha}&quot;,
        &quot;git_commits_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/git/commits{/sha}&quot;,
        &quot;comments_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/comments{/number}&quot;,
        &quot;issue_comment_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues/comments{/number}&quot;,
        &quot;contents_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/contents/{+path}&quot;,
        &quot;compare_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/compare/{base}...{head}&quot;,
        &quot;merges_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/merges&quot;,
        &quot;archive_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/{archive_format}{/ref}&quot;,
        &quot;downloads_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/downloads&quot;,
        &quot;issues_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues{/number}&quot;,
        &quot;pulls_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls{/number}&quot;,
        &quot;milestones_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/milestones{/number}&quot;,
        &quot;notifications_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/notifications{?since,all,participating}&quot;,
        &quot;labels_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/labels{/name}&quot;,
        &quot;releases_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/releases{/id}&quot;,
        &quot;deployments_url&quot;: &quot;https://api.github.com/repos/apache/nuttx/deployments&quot;,
        &quot;created_at&quot;: &quot;2019-12-14T23:27:55Z&quot;,
        &quot;updated_at&quot;: &quot;2025-01-29T04:43:44Z&quot;,
        &quot;pushed_at&quot;: &quot;2025-01-29T04:43:39Z&quot;,
        &quot;git_url&quot;: &quot;git://github.com/apache/nuttx.git&quot;,
        &quot;ssh_url&quot;: &quot;git@github.com:apache/nuttx.git&quot;,
        &quot;clone_url&quot;: &quot;https://github.com/apache/nuttx.git&quot;,
        &quot;svn_url&quot;: &quot;https://github.com/apache/nuttx&quot;,
        &quot;homepage&quot;: &quot;https://nuttx.apache.org/&quot;,
        &quot;size&quot;: 316389,
        &quot;stargazers_count&quot;: 3066,
        &quot;watchers_count&quot;: 3066,
        &quot;language&quot;: &quot;C&quot;,
        &quot;has_issues&quot;: true,
        &quot;has_projects&quot;: true,
        &quot;has_downloads&quot;: true,
        &quot;has_wiki&quot;: false,
        &quot;has_pages&quot;: false,
        &quot;has_discussions&quot;: false,
        &quot;forks_count&quot;: 1232,
        &quot;mirror_url&quot;: null,
        &quot;archived&quot;: false,
        &quot;disabled&quot;: false,
        &quot;open_issues_count&quot;: 572,
        &quot;license&quot;: {
          &quot;key&quot;: &quot;apache-2.0&quot;,
          &quot;name&quot;: &quot;Apache License 2.0&quot;,
          &quot;spdx_id&quot;: &quot;Apache-2.0&quot;,
          &quot;url&quot;: &quot;https://api.github.com/licenses/apache-2.0&quot;,
          &quot;node_id&quot;: &quot;MDc6TGljZW5zZTI=&quot;
        },
        &quot;allow_forking&quot;: true,
        &quot;is_template&quot;: false,
        &quot;web_commit_signoff_required&quot;: false,
        &quot;topics&quot;: [
          &quot;embedded&quot;,
          &quot;mcu&quot;,
          &quot;microcontroller&quot;,
          &quot;nuttx&quot;,
          &quot;real-time&quot;,
          &quot;rtos&quot;
        ],
        &quot;visibility&quot;: &quot;public&quot;,
        &quot;forks&quot;: 1232,
        &quot;open_issues&quot;: 572,
        &quot;watchers&quot;: 3066,
        &quot;default_branch&quot;: &quot;master&quot;
      }
    },
    &quot;_links&quot;: {
      &quot;self&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/15444&quot;
      },
      &quot;html&quot;: {
        &quot;href&quot;: &quot;https://github.com/apache/nuttx/pull/15444&quot;
      },
      &quot;issue&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues/15444&quot;
      },
      &quot;comments&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/issues/15444/comments&quot;
      },
      &quot;review_comments&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/15444/comments&quot;
      },
      &quot;review_comment&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/comments{/number}&quot;
      },
      &quot;commits&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/pulls/15444/commits&quot;
      },
      &quot;statuses&quot;: {
        &quot;href&quot;: &quot;https://api.github.com/repos/apache/nuttx/statuses/1be695191cd77b426ac53914cf0ebc0e60617c8c&quot;
      }
    },
    &quot;author_association&quot;: &quot;CONTRIBUTOR&quot;,
    &quot;auto_merge&quot;: null,
    &quot;active_lock_reason&quot;: null
  }
]</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Get Breaking Commit

build_score{
target=&quot;rv-virt:knsh64_test5&quot;,
build_score_prev=&quot;1&quot;
} == 0

Get nuttx_hash_prev
&quot;be40c01ddd6f43a527abeae31042ba7978aabb58&quot;

build_score{apps_hash=&quot;a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;, apps_hash_next=&quot;a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;, apps_hash_prev=&quot;a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;, arch=&quot;unknown&quot;, board=&quot;rv-virt&quot;, build_score_next=&quot;0&quot;, build_score_prev=&quot;1&quot;, config=&quot;knsh64_test5&quot;, exported_instance=&quot;rv-virt:knsh64_test5@657247bda89d60112d79bb9b8d223eca5f9641b5@a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;, exported_job=&quot;rewind&quot;, group=&quot;unknown&quot;, instance=&quot;localhost:9091&quot;, job=&quot;pushgateway&quot;, msg=&quot;+ /home/luppy/nuttx-build-farm/build-test-knsh64.sh 48846954d8506e1c95089a8654787fdc42cc098c a6b9e718460a56722205c2a84a9b07b94ca664aa Now running https://github.com/lupyuen/nuttx-build-farm/blob/main/build-test-knsh64.sh 48846954d8506e1c95089a8654787fdc42cc098c a6b9e718460a56722205c2a84a9b07b94ca664aa + nuttx_hash=48846954d8506e1c95089a8654787fdc42cc098c + apps_hash=a6b9e718460a56722205c2a84a9b07b94ca664aa + neofetch .-/+oossssoo+/-. `:+ssssssssssssssssss+:` -+ssssssssssssssssssyyssss+-&quot;, nuttx_hash=&quot;657247bda89d60112d79bb9b8d223eca5f9641b5&quot;, nuttx_hash_next=&quot;48846954d8506e1c95089a8654787fdc42cc098c&quot;, nuttx_hash_prev=&quot;be40c01ddd6f43a527abeae31042ba7978aabb58&quot;, subarch=&quot;unknown&quot;, target=&quot;rv-virt:knsh64_test5&quot;, timestamp=&quot;2025-01-11T10:54:36&quot;, timestamp_log=&quot;2025-01-29T04:59:10.699Z&quot;, url=&quot;https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4799962#L1629&quot;, url_display=&quot;gitlab.com/lupyuen/nuttx-build-log/-/snippets/4799962#L1629&quot;, user=&quot;rewind&quot;, version=&quot;3&quot;}</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>nuttx_hash_next
nuttx_hash_prev

apps_hash_next
apps_prev_next

build_score_next
build_score_prev

if group == &quot;unknown&quot;
Search for
&quot;build / test failed&quot; vs &quot;build / test ok&quot;
&quot;this commit&quot; vs &quot;previous commit&quot; vs &quot;next commit&quot;

extract nuttx hash
extract apps hash

if failed: build_score=0
if successful: build_score=1</code></pre></div>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Query prometheus for today&#39;s builds by rewind
Sort by timestamp_log

Search for
***** BUILD / TEST FAILED FOR THIS COMMIT: nuttx @ 657247bda89d60112d79bb9b8d223eca5f9641b5 / nuttx-apps @ a6b9e718460a56722205c2a84a9b07b94ca664aa
***** Build / Test OK for Previous Commit: nuttx @ be40c01ddd6f43a527abeae31042ba7978aabb58 / nuttx-apps @ a6b9e718460a56722205c2a84a9b07b94ca664aa
***** BUILD / TEST FAILED FOR NEXT COMMIT: nuttx @ 48846954d8506e1c95089a8654787fdc42cc098c / nuttx-apps @ a6b9e718460a56722205c2a84a9b07b94ca664aa
https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4799243#L1629

https://github.com/XAMPPRocky/octocrab/blob/ce8c885dc2701c891ce868c846fa25d32fd44ba2/src/api/commits/associated_pull_requests.rs#L75
    #[tokio::test]
    async fn associated_pull_requests_serializes_correctly() {
        use super::PullRequestTarget;

        let octocrab = crate::Octocrab::default();
        let handler = octocrab.commits(&quot;owner&quot;, &quot;repo&quot;);
        let associated_prs =
            handler.associated_pull_requests(PullRequestTarget::Sha(&quot;commit_sha&quot;.to_string()));

        assert_eq!(
            serde_json::to_value(associated_prs).unwrap(),
            serde_json::json!({
                &quot;target&quot;: &quot;commit_sha&quot;
            })
        );
    }

Sort by Log Timestamp

Add Log Timestamp
https://github.com/lupyuen/ingest-nuttx-builds/commit/055149d999c6727183b843feedce6d3086062a24

Sort: Timestamp + NuttX Hash
TODO: Add timestamp_log (from Snippet)

Parse OSTest correctly
https://github.com/lupyuen/ingest-nuttx-builds/commit/b4eb156075002bafa510230c2120f70e09f7cf12

. ../gitlab-token.sh &amp;&amp; glab auth status &amp;&amp; ./rewind-build.sh rv-virt:knsh64_test aa0aecbd80a2ce69ee33ced41b7677f8521acd43 a6b9e718460a56722205c2a84a9b07b94ca664aa

30 mins for 7 rewinds

build-test
If fail
Rewind-build
Use latest hashes

lookup prometheus
Compose Mastodon message 
Get pr, author 
Link to build history 
Earlier build is ok
Run log snippet 
Uname
Last few lines

TODO: daily cron
https://help.ubuntu.com/community/CronHowto

TODO: Get hashes from Prometheus 

https://github.com/lupyuen/nuttx-riscv64/releases/tag/qemu-riscv-knsh64-2025-01-12
NuttX Source: https://github.com/apache/nuttx/tree/aa0aecbd80a2ce69ee33ced41b7677f8521acd43
NuttX Apps: https://github.com/apache/nuttx-apps/tree/a6b9e718460a56722205c2a84a9b07b94ca664aa

https://github.com/apache/nuttx/pull/15444#issuecomment-2585595498
Sorry @yf13: This PR is causing &quot;Instruction page fault&quot; for rv-virt:knsh64. Wonder if there&#39;s something I missed in my testing steps? Thanks!

https://gist.github.com/lupyuen/60d54514ce9a8589b56ed6207c356d95#file-special-qemu-riscv-knsh64-log-L1396
+ git reset --hard 657247bda89d60112d79bb9b8d223eca5f9641b5
HEAD is now at 657247bda8 libc/modlib: preprocess gnu-elf.ld
NuttX Source: https://github.com/apache/nuttx/tree/657247bda89d60112d79bb9b8d223eca5f9641b5
NuttX Apps: https://github.com/apache/nuttx-apps/tree/a6b9e718460a56722205c2a84a9b07b94ca664aa
+ tools/configure.sh rv-virt:knsh64
+ make -j
+ make export
+ pushd ../apps
+ ./tools/mkimport.sh -z -x ../nuttx/nuttx-export-12.8.0.tar.gz
+ make import
+ popd
+ qemu-system-riscv64 -semihosting -M virt,aclint=on -cpu rv64 -kernel nuttx -nographic
QEMU emulator version 9.2.0
OpenSBI v1.5.1
ABC
riscv_exception: EXCEPTION: Instruction page fault. MCAUSE: 000000000000000c, EPC: 000000018000001a, MTVAL: 000000018000001a
riscv_exception: Segmentation fault in PID 2: /system/bin/init
(Earlier Commit is OK)</code></pre></div><h1 id="whats-next"><a class="doc-anchor" href="#whats-next">¬ß</a>2 What‚Äôs Next</h1>
<p>TODO: nsh, nsh64, knsh, knsh64, ox64 emulator, sg2000 emulator, sg2000 board?</p>
<p>Many Thanks to the awesome <strong>NuttX Admins</strong> and <strong>NuttX Devs</strong>! And <a href="https://lupyuen.org/articles/sponsor"><strong>My Sponsors</strong></a>, for sticking with me all these years.</p>
<ul>
<li>
<p><a href="https://lupyuen.org/articles/sponsor"><strong>Sponsor me a coffee</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/nuttx-sg2000"><strong>My Current Project: ‚ÄúApache NuttX RTOS for Sophgo SG2000‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/nuttx-ox64"><strong>My Other Project: ‚ÄúNuttX for Ox64 BL808‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/nuttx-star64"><strong>Older Project: ‚ÄúNuttX for Star64 JH7110‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/pinephone-nuttx"><strong>Olderer Project: ‚ÄúNuttX for PinePhone‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.org"><strong>Check out my articles</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.org/rss.xml"><strong>RSS Feed</strong></a></p>
</li>
</ul>
<p><em>Got a question, comment or suggestion? Create an Issue or submit a Pull Request here‚Ä¶</em></p>
<p><a href="https://codeberg.org/lupyuen/lupyuen.org/src/branch/master/src/rewind.md"><strong>lupyuen.org/src/rewind.md</strong></a></p>

    
    <!-- Begin scripts/rustdoc-after.html: Post-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker and Prism Theme -->
    <script src="../theme.js"></script>
    <script src="../prism.js"></script>
    <!-- Theme Picker and Prism Theme -->

    <!-- End scripts/rustdoc-after.html -->
    

</body>
</html>