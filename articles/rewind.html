<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <title>Auto-Rewind for Daily Test (Apache NuttX RTOS)</title>

    
    <!-- Begin scripts/articles/*-header.html: Article Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<meta property="og:title" 
    content="Auto-Rewind for Daily Test (Apache NuttX RTOS)" 
    data-rh="true">
<meta property="og:description" 
    content=""
    data-rh="true">
<meta name="description" 
    content="">
<meta property="og:image" 
    content="https://lupyuen.github.io/images/rewind-title.jpg">
<meta property="og:type" 
    content="article" data-rh="true">
<link rel="canonical"
    href="https://lupyuen.org/articles/rewind.html" />
<!-- End scripts/articles/*-header.html -->
<!-- Begin scripts/rustdoc-header.html: Header for Custom Markdown files processed by rustdoc, like chip8.md -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed for lupyuen" href="/rss.xml" />
<link rel="stylesheet" type="text/css" href="../normalize.css">
<link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
<link rel="stylesheet" type="text/css" href="../dark.css">
<link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
<link rel="stylesheet" type="text/css" href="../prism.css">
<script src="../storage.js"></script><noscript>
<link rel="stylesheet" href="../noscript.css"></noscript>
<link rel="shortcut icon" href="../favicon.ico">
<style type="text/css">
    #crate-search {
        background-image: url("../down-arrow.svg");
    }
</style>
<!-- End scripts/rustdoc-header.html -->


</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    
    <!-- Begin scripts/rustdoc-before.html: Pre-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker -->
    <div class="theme-picker" style="left: 0"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg"
        width="18" alt="Pick another theme!"></button>
        <div id="theme-choices"></div>
    </div>
    <!-- Theme Picker -->

    <!-- End scripts/rustdoc-before.html -->
    

    <h1 class="title">Auto-Rewind for Daily Test (Apache NuttX RTOS)</h1>
    <nav id="rustdoc"><ul>
<li><a href="#find-the-breaking-commit" title="Find the Breaking Commit">1 Find the Breaking Commit</a><ul></ul></li>
<li><a href="#testing-one-commit" title="Testing One Commit">2 Testing One Commit</a><ul></ul></li>
<li><a href="#testing-20-commits" title="Testing 20 Commits">3 Testing 20 Commits</a><ul></ul></li>
<li><a href="#ingest-the-test-log" title="Ingest the Test Log">4 Ingest the Test Log</a><ul></ul></li>
<li><a href="#query-prometheus-for-breaking-commit" title="Query Prometheus for Breaking Commit">5 Query Prometheus for Breaking Commit</a><ul></ul></li>
<li><a href="#write-a-polite-note" title="Write a Polite Note">6 Write a Polite Note</a><ul></ul></li>
<li><a href="#nuttx-rewind-notify" title="nuttx-rewind-notify">7 nuttx-rewind-notify</a><ul></ul></li>
<li><a href="#cron-job" title="Cron Job">8 Cron Job</a><ul></ul></li>
<li><a href="#convert-to-commit-id" title="Convert to Commit ID">9 Convert to Commit ID</a><ul></ul></li>
<li><a href="#delete-snippet" title="Delete Snippet">10 Delete Snippet</a><ul></ul></li>
<li><a href="#create-snippet" title="Create Snippet">11 Create Snippet</a><ul></ul></li>
<li><a href="#test-failed-vs-test-ok" title="Test Failed vs Test OK">12 Test Failed vs Test OK</a><ul></ul></li>
<li><a href="#be-kind-rewind" title="Be Kind, Rewind!">13 Be Kind, Rewind!</a><ul></ul></li>
<li><a href="#whats-next" title="What‚Äôs Next">14 What‚Äôs Next</a><ul></ul></li></ul></nav><p>üìù <em>26 Feb 2025</em></p>
<p><img src="https://lupyuen.github.io/images/rewind-title.jpg" alt="TODO" /></p>
<p>If the <strong>Daily Test</strong> fails for <a href="TODO"><strong>Apache NuttX RTOS</strong></a>‚Ä¶ Can we <strong>Auto-Rewind</strong> and discover the <strong>Breaking Commit</strong>? Let‚Äôs find out!</p>
<ol>
<li>
<p>Every Day at 00:00 UTC: <a href="TODO"><strong>Ubuntu Cron</strong></a> shall trigger a <strong>Daily Buld and Test</strong> of NuttX for <strong>QEMU RISC-V</strong> <em>(knsh64 / 64-bit Kernel Build)</em></p>
</li>
<li>
<p><strong>If The Test Fails:</strong> Our Machine will <a href="TODO"><strong>Backtrack The Commits</strong></a>, rebuilding and retesting each commit <em>(on QEMU Emulator)</em></p>
</li>
<li>
<p>When it discovers the <strong>Breaking Commit</strong>: Our Machine shall post a <a href="TODO"><strong>Mastodon Alert</strong></a>, that includes the <em>(suspicious)</em> <strong>Pull Request</strong></p>
</li>
<li>
<p><strong>Bonus:</strong> The Machine will draft a <a href="TODO"><strong>Polite Note</strong></a> for our NuttX Colleague to investigate the Pull Request, please</p>
</li>
</ol>
<p><em>Why are we doing this?</em></p>
<p><strong>If NuttX Fails on QEMU RISC-V:</strong> High chance that NuttX will also fail on <strong>RISC-V SBCs</strong> like Ox64 BL808 and Oz64 SG2000.</p>
<p>Thus it‚Äôs important to Nip the Bud and Fix the Bug, before it hurts our RISC-V Devs. <em>(Be Kind, Rewind!)</em></p>
<h1 id="find-the-breaking-commit"><a class="doc-anchor" href="#find-the-breaking-commit">¬ß</a>1 Find the Breaking Commit</h1>
<p>Our script will <strong>Rewind the NuttX Build</strong> and discover the Breaking Commit‚Ä¶</p>
<div class="example-wrap"><pre class="language-bash"><code>## Download the NuttX Rewind Scripts
git clone https://github.com/lupyuen/nuttx-build-farm
cd nuttx-build-farm

## Set the GitLab Token, check that it&#39;s OK
. ../gitlab-token.sh
glab auth status

## Find the Breaking Commit for QEMU RISC-V (64-bit Kernel Build)
nuttx_hash=  ## Optional: Begin with this NuttX Hash
apps_hash=   ## Optional: Begin with this Apps Hash
./rewind-build.sh \
  rv-virt:knsh64_test \
  $nuttx_hash \
  $apps_hash</code></pre></div>
<p>Our Rewind Script runs <strong>20 Iterations of Build + Test</strong>‚Ä¶</p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test: Latest NuttX Commit
git reset --hard HEAD
tools/configure.sh rv-virt:knsh64
make -j
qemu-system-riscv64 -kernel nuttx

## Build and Test: Previous NuttX Commit
git reset --hard HEAD~1
tools/configure.sh rv-virt:knsh64
make -j
qemu-system-riscv64 -kernel nuttx
...
## Build and Test: 20th NuttX Commit
git reset --hard HEAD~19
tools/configure.sh rv-virt:knsh64
make -j
qemu-system-riscv64 -kernel nuttx

## Roughly One Hour for 20 Rewinds of Build + Test</code></pre></div>
<p>(What about Git Bisect? We‚Äôll come back to this)</p>
<p><em>Build and Test 20 times? Won‚Äôt the log be awfully messy?</em></p>
<p>Ah that‚Äôs why we neatly present the <strong>20 Outcomes</strong> (Build + Test) as the <strong>NuttX Build History</strong> (part of <a href="TODO"><strong>NuttX Dashboard</strong></a>)</p>
<p>TODO: Pic of Build History</p>
<p>What‚Äôs inside our script? We dive in‚Ä¶</p>
<p><a href="TODO">(Which <strong>Apps Hash</strong> to use? NuttX Build History can help)</a></p>
<h1 id="testing-one-commit"><a class="doc-anchor" href="#testing-one-commit">¬ß</a>2 Testing One Commit</h1>
<p><em>How to find the Breaking Commit?</em></p>
<p>We zoom out and explain slowly, from Micro to Macro. This script will <strong>Build and Test NuttX</strong> for <strong>One Single Commit</strong> on QEMU: <a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/build-test-knsh64.sh">build-test-knsh64.sh</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test NuttX for QEMU RISC-V 64-bit (Kernel Build)
## Download NuttX and Apps
git clone https://github.com/apache/nuttx
git clone https://github.com/apache/nuttx-apps apps

## Switch to this NuttX Commit and Apps Commit
pushd nuttx ; git reset --hard $nuttx_hash ; popd
pushd apps  ; git reset --hard $apps_hash  ; popd

## Configure the NuttX Build
cd nuttx
tools/configure.sh rv-virt:knsh64

## Build the NuttX Kernel
make -j

## Build the NuttX Apps
make -j export
pushd ../apps
./tools/mkimport.sh -z -x ../nuttx/nuttx-export-*.tar.gz
make -j import
popd

## Boot NuttX on QEMU RISC-V 64-bit
## Run OSTest with our Expect Script
wget https://raw.githubusercontent.com/lupyuen/nuttx-riscv64/main/qemu-riscv-knsh64.exp
expect qemu-riscv-knsh64.exp</code></pre></div>
<p><a href="TODO">(<strong>Expect Script</strong> shall validate the QEMU Output)</a></p>
<p>The script above is called by <strong>build_nuttx</strong> below. Which will wrap the output in the Log Format that <strong>NuttX Dashboard</strong> expects: <a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-commit.sh">rewind-commit.sh</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test One Commit
function build_nuttx { ...

  ## NuttX Dashboard expects this Log Format
  echo &quot;====================================================================================&quot;
  echo &quot;Configuration/Tool: rv-virt/knsh64_test,&quot;
  echo &quot;$timestamp&quot;
  echo &quot;------------------------------------------------------------------------------------&quot;

  ## Build and Test Locally: QEMU RISC-V 64-bit Kernel Build
  $script_dir/build-test-knsh64.sh \
    $nuttx_commit \
    $apps_commit
  res=$?

  ## Omitted: Build and Test Other Targets
  echo &quot;====================================================================================&quot;
}</code></pre></div>
<p>TODO: Sample Build / Test Log</p>
<p>For Every Commit, we bundle <strong>Three Commits</strong> into a single Log File: <em>This Commit, Previous Commit, Next Commit</em>: <a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-commit.sh#L133-L169">rewind-commit.sh</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test This Commit
build_nuttx $nuttx_hash $apps_hash

## If Build / Test Fails...
if [[ &quot;$res&quot; != &quot;0&quot; ]]; then
  echo &quot;BUILD / TEST FAILED FOR THIS COMMIT: nuttx @ $nuttx_hash / nuttx-apps @ $apps_hash&quot;

  ## Rebuild / Retest with the Previous Commit
  build_nuttx $prev_hash $apps_hash
  if [[ &quot;$res&quot; != &quot;0&quot; ]]; then
    echo &quot;BUILD / TEST FAILED FOR PREVIOUS COMMIT: nuttx @ $prev_hash / nuttx-apps @ $apps_hash&quot;
  fi

  ## Rebuild / Retest with the Next Commit
  build_nuttx $next_hash $apps_hash
  if [[ &quot;$res&quot; != &quot;0&quot; ]]; then
    echo &quot;BUILD / TEST FAILED FOR NEXT COMMIT: nuttx @ $next_hash / nuttx-apps @ $apps_hash&quot;
  fi
fi

## Why the Long Echoes? We&#39;ll ingest them later</code></pre></div>
<p>Our Three-In-One Log becomes a little easier to read, less flipping back and forth. Let‚Äôs zoom out‚Ä¶</p>
<h1 id="testing-20-commits"><a class="doc-anchor" href="#testing-20-commits">¬ß</a>3 Testing 20 Commits</h1>
<p><em>Who calls the script above: rewind-commit.sh?</em></p>
<p>The script above is called by <strong>run_job</strong> below: <a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh#L105-L128">rewind-build.sh</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test This Commit
## And capture the Build / Test Output
function run_job { ...
  script $log_file \
    $script_option \
    &quot; \
      $script_dir/rewind-commit.sh \
        $target \
        $nuttx_hash $apps_hash \
        $timestamp \
        $prev_hash $next_hash \
    &quot;
}</code></pre></div>
<p>Which captures the <strong>Build / Test Output</strong> into a Log File.</p>
<p>What happens to the <strong>Log File</strong>? We upload and publish it as a <strong>GitLab Snippet</strong>: <a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh#L75-L105">rewind-build.sh</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test One Commit for the NuttX Target
function build_commit { ...

  ## Build and Test This Commit
  ## And capture the Build / Test Output into a Log File
  run_job \
    $log $timestamp \
    $apps_hash $nuttx_hash \
    $prev_hash $next_hash
  clean_log $log
  find_messages $log

  ## Upload the Build / Test Log File
  ## As GitLab Snippet
  upload_log \
    $log unknown \
    $nuttx_hash $apps_hash \
    $timestamp
}</code></pre></div>
<p><a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh#L172-L205">(<strong>upload_log</strong> creates the GitLab Snippet)</a></p>
<p><a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh#L172-L205">(<strong>GitHub Gists</strong> are supported too)</a></p>
<p>Remember we need to Build and Test <strong>20 Commits</strong>? We call the script above 20 times: <a href="https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh#L205-L275">rewind-build.sh</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Build and Test the Latest 20 Commits
num_commits=20
num_success=0
count=1
for commit in $(
  TZ=UTC0 \
  git log \
  -$(( $num_commits + 1 )) \
  --date=&#39;format-local:%Y-%m-%dT%H:%M:%S&#39; \
  --format=&quot;%cd,%H&quot;
); do
  ## Extract the Commit Timestamp and Commit Hash
  ## Commit looks like 2024-11-24T09:52:42,9f9cc7ecebd97c1a6b511a1863b1528295f68cd7
  prev_timestamp=$(echo $commit | cut -d &#39;,&#39; -f 1)  ## 2024-11-24T09:52:42
  prev_hash=$(echo $commit | cut -d &#39;,&#39; -f 2)       ## 9f9cc7ecebd97c1a6b511a1863b1528295f68cd7

  ## Build and Test the NuttX Hash + Apps Hash
  ## If It Fails: Build and Test the Previous NuttX Hash + Previous Apps Hash
  build_commit \
    $tmp_dir/$nuttx_hash.log \
    $timestamp \
    $apps_hash $nuttx_hash \
    $prev_hash $next_hash

  ## Shift the Commits
  ## Omitted: Skip the First Commit (because we need a Previous Commit)
  next_hash=$nuttx_hash
  nuttx_hash=$prev_hash
  timestamp=$prev_timestamp
  ((count++)) || true

  ## Stop when we have reached the
  ## Minimum Number of Successful Commits
  if [[ &quot;$num_success&quot; == &quot;$min_commits&quot; ]]; then
    break
  fi
done</code></pre></div>
<p>TODO: Breaking Commit</p>
<h1 id="ingest-the-test-log"><a class="doc-anchor" href="#ingest-the-test-log">¬ß</a>4 Ingest the Test Log</h1>
<p><em>Why publish the Test Log as a GitLab Snippet?</em></p>
<p>That‚Äôs because we‚Äôll Ingest the Test Log into our <strong>NuttX Dashboard</strong>. (So we can present the logs neatly as <strong>NuttX Build History</strong>)</p>
<p>This is how we <strong>Ingest a Test Log</strong> into our <a href="TODO"><strong>Prometheus Time-Series Database</strong></a> (that powers our NuttX Dashboard)‚Ä¶</p>
<div class="example-wrap"><pre class="language-bash"><code># TYPE build_score gauge
# HELP build_score 1.0 for successful build, 0.0 for failed build
build_score{ 

  ## These fields shall be rendered in Grafana (NuttX Dashboard and Build History)
  timestamp=&quot;2025-01-11T10:54:36&quot;,
  user=&quot;rewind&quot;,
  board=&quot;rv-virt&quot;,
  config=&quot;knsh64_test&quot;,
  target=&quot;rv-virt:knsh64_test&quot;,
  url=&quot;https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800059#L85&quot;,

  ## Here&#39;s the NuttX Hash and Apps Hash for This Commit
  nuttx_hash=&quot;657247bda89d60112d79bb9b8d223eca5f9641b5&quot;,
  apps_hash=&quot;a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;,

  ## Previous Commit is OK (Score=1)
  nuttx_hash_prev=&quot;be40c01ddd6f43a527abeae31042ba7978aabb58&quot;,
  apps_hash_prev=&quot;a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;,
  build_score_prev=&quot;1&quot;,

  ## Next Commit is Not OK (Score=0)
  nuttx_hash_next=&quot;48846954d8506e1c95089a8654787fdc42cc098c&quot;,
  apps_hash_next=&quot;a6b9e718460a56722205c2a84a9b07b94ca664aa&quot;,
  build_score_next=&quot;0&quot;

} 0  ## Means This Commit Failed (Score=0)</code></pre></div>
<p><strong>Hello Prometheus:</strong> We‚Äôre sending you the <strong>Test Log</strong> for‚Ä¶</p>
<p>TODO</p>
<p><a href="https://gist.github.com/lupyuen/e5f9d4d3e113b3ed3bc1726c7ebb9897#file-gistfile1-txt-L553-L578">(See the <strong>Complete Log</strong>)</a></p>
<p>Which is transformed and transmitted by our <strong>Rust App</strong>, from GitLab Snippet to Prometheus: <a href="https://github.com/lupyuen/ingest-nuttx-builds/blob/main/src/main.rs#L589-L703">ingest-nuttx-builds/main.rs</a></p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Post the Test Log to Prometheus Pushgateway
</span><span class="kw">async fn </span>post_to_pushgateway( ... ) -&gt; ... { ...

  <span class="comment">// Compose the Pushgateway Metric
  </span><span class="kw">let </span>body = <span class="macro">format!</span>(
<span class="string">r##"
build_score{{ version="{version}", timestamp="{timestamp}", timestamp_log="{timestamp_log}", user="{user}", arch="{arch}", subarch="{subarch}", group="{group}", board="{board}", config="{config}", target="{target}", url="{url}", url_display="{url_display}"{msg_opt}{nuttx_hash_opt}{apps_hash_opt}{prev_opt}{next_opt} }} {build_score}
"##</span>);

  <span class="comment">// Send the Metric to Pushgateway via HTTP POST
  </span><span class="kw">let </span>client = reqwest::Client::new();
  <span class="kw">let </span>pushgateway = <span class="macro">format!</span>(<span class="string">"http://localhost:9091/metrics/job/{user}/instance/{target_rewind}"</span>);
  <span class="kw">let </span>res = client
    .post(pushgateway)
    .body(body)
    .send()
    .<span class="kw">await</span><span class="question-mark">?</span>;
}</code></pre></div>
<p><a href="https://github.com/lupyuen/ingest-nuttx-builds/blob/main/src/main.rs#L171-L263">(How we fetch <strong>GitLab Snippets</strong>)</a></p>
<p><a href="https://github.com/lupyuen/ingest-nuttx-builds/blob/main/src/main.rs#L704-L760">(And <strong>Extract the Fields</strong> from Test Logs)</a></p>
<p><a href="https://gist.github.com/lupyuen/e5f9d4d3e113b3ed3bc1726c7ebb9897">(See the <strong>Rust App Log</strong>)</a></p>
<p>TODO: Screenshot of Prometheus</p>
<p>TODO: Breaking Commit</p>
<h1 id="query-prometheus-for-breaking-commit"><a class="doc-anchor" href="#query-prometheus-for-breaking-commit">¬ß</a>5 Query Prometheus for Breaking Commit</h1>
<p><em>Test Logs are now inside Prometheus Database. How will Prometheus tell us the Breaking Commit?</em></p>
<p>Recall that our <strong>Prometheus Database</strong> contains‚Ä¶</p>
<ul>
<li>
<p><strong>20 Test Logs</strong> and their Outcomes:</p>
<p><em>Commit is OK or Failed</em></p>
</li>
<li>
<p>Each Test Log contains <strong>Three Outcomes</strong>:</p>
<p><em>This Commit vs Previous Commit vs Next Commit</em></p>
</li>
</ul>
<p>The <strong>Test Logs</strong> in Prometheus will look like this‚Ä¶</p>
<div class="example-wrap"><pre class="language-text"><code>Test Log #1 | This Commit FAILED &lt;br&gt; Previous Commit FAILED
Test Log #2 | This Commit FAILED &lt;br&gt; Previous Commit FAILED
...
Test Log #6 | This Commit FAILED &lt;br&gt; Previous Commit is OK
Test Log #7 | This Commit is OK
Test Log #8 | This Commit is OK</code></pre></div>
<p><a href="https://nuttx-dashboard.org/d/fe2q876wubc3kc/nuttx-build-history?from=now-7d&amp;to=now&amp;timezone=browser&amp;var-arch=$__all&amp;var-subarch=$__all&amp;var-board=rv-virt&amp;var-config=knsh64_test6&amp;var-group=$__all&amp;var-Filters="><strong>Or Visually</strong>‚Ä¶</a></p>
<p>TODO: Screenshot of Build History</p>
<p>Ding ding: <strong>Test Log #6</strong> will reveal the <strong>Breaking Commit</strong>!</p>
<p><em>Inside Prometheus: How to find Test Log #6?</em></p>
<p>We find the Breaking Commit with this <strong>Prometheus Query</strong>‚Ä¶</p>
<div class="example-wrap"><pre class="language-bash"><code>build_score{
  target=&quot;rv-virt:knsh64_test&quot;,
  build_score_prev=&quot;1&quot;
} == 0</code></pre></div>
<p><strong>Dear Prometheus:</strong> Please find the <strong>Test Log</strong> for‚Ä¶</p>
<p>TODO</p>
<p>Coded in our <strong>Rust App</strong> like so: <a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L44-L73">nuttx-rewind-notify/main.rs</a></p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Query Prometheus for the Breaking Commit
</span><span class="kw">let </span>query = <span class="macro">format!</span>(<span class="string">r##"
  build_score{{
    target="{TARGET}",
    build_score_prev="1"
  }} == 0
"##</span>);

<span class="comment">// Send query to Prometheus via HTTP Form Post
</span><span class="kw">let </span>params = [(<span class="string">"query"</span>, query)];
<span class="kw">let </span>client = reqwest::Client::new();
<span class="kw">let </span>prometheus = <span class="macro">format!</span>(<span class="string">"http://{prometheus_server}/api/v1/query"</span>);
<span class="kw">let </span>res = client
  .post(prometheus)
  .form(<span class="kw-2">&amp;</span>params)
  .send()
  .<span class="kw">await</span><span class="question-mark">?</span>;

<span class="comment">// Process the Query Results
</span><span class="kw">let </span>body = res.text().<span class="kw">await</span><span class="question-mark">?</span>;
<span class="kw">let </span>data: Value = serde_json::from_str(<span class="kw-2">&amp;</span>body).unwrap();
<span class="kw">let </span>builds = <span class="kw-2">&amp;</span>data[<span class="string">"data"</span>][<span class="string">"result"</span>];</code></pre></div>
<h1 id="write-a-polite-note"><a class="doc-anchor" href="#write-a-polite-note">¬ß</a>6 Write a Polite Note</h1>
<p><em>Great! Our Machine has auto-discovered the Breaking Commit. But Our Machine can‚Äôt fix it right?</em></p>
<p>Here comes the <strong>Human-Computer Interface</strong>: Our Machine (kinda) <strong>Escalates the Breaking Commit</strong> to the Right Human for fixing, politely please‚Ä¶</p>
<p>TODO</p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L81-L251">Grungy bits</a></p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L140-L157">Extract the Build Log</a></p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L251-L331">Only the Important Bits</a></p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L109-L138">Get the Breaking PR from GitHub, based on the Breaking Commit</a></p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L157-L178">Compose the Mastodon Post</a></p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L178-L220">Post the Status to Mastodon</a></p>
<p>But 500 chars limit! Bummer</p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L364-L410">Create a GitLab Snippet</a></p>
<p><a href="https://github.com/lupyuen/nuttx-rewind-notify/blob/main/src/main.rs#L331-L364">Search the NuttX Commit in Prometheus</a></p>
<p>TODo: Get Breaking PR</p>
<p><a href="https://docs.github.com/en/rest/commits/commits?apiVersion=2022-11-28#list-pull-requests-associated-with-a-commit">List pull requests associated with a commit</a></p>
<div class="example-wrap"><pre class="language-bash"><code>## Fetch the Pull Request for this Commit
$ commit=be40c01ddd6f43a527abeae31042ba7978aabb58
$ curl -L \
  -H &quot;Accept: application/vnd.github+json&quot; \
  -H &quot;X-GitHub-Api-Version: 2022-11-28&quot; \
  https://api.github.com/repos/apache/nuttx/commits/$commit/pulls

[{ html_url: &quot;https://github.com/apache/nuttx/pull/15444&quot;,
   title:    &quot;modlib: preprocess gnu-elf.ld for executable ELF&quot;,
   user: { login: &quot;GITHUB_USERID&quot;, ...</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/ba6a33c4c021f0437a95117784e5190b">(See the <strong>Complete Log</strong>)</a></p>
<h1 id="nuttx-rewind-notify"><a class="doc-anchor" href="#nuttx-rewind-notify">¬ß</a>7 nuttx-rewind-notify</h1><div class="example-wrap"><pre class="language-text"><code>nuttx-rewind-notify

export PROMETHEUS_SERVER=luppys-mac-mini.local:9090
./run.sh&quot;,

const ALL_BUILDS_FILENAME: &amp;str = &quot;/tmp/nuttx-rewind-notify.json&quot;;

cron:

crontab -e

## Run every 15 minutes
*/15 * * * * /home/luppy/nuttx-rewind-notify/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-notify

## Run every hour at 00:16, 01:16, 12:16, ...
16 * * * * /home/luppy/nuttx-rewind-notify/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-notify

tail -f /var/log/syslog
&lt;&lt;
2025-01-31T18:29:21.853366+08:00 thinkstation crontab[3946431]: (luppy) BEGIN EDIT (luppy)
2025-01-31T18:29:29.480578+08:00 thinkstation crontab[3946431]: (luppy) REPLACE (luppy)
2025-01-31T18:29:29.480737+08:00 thinkstation crontab[3946431]: (luppy) END EDIT (luppy)
2025-01-31T18:30:01.179722+08:00 thinkstation systemd[1]: Starting sysstat-collect.service - system activity accounting tool...
2025-01-31T18:30:01.197467+08:00 thinkstation systemd[1]: sysstat-collect.service: Deactivated successfully.
2025-01-31T18:30:01.197644+08:00 thinkstation systemd[1]: Finished sysstat-collect.service - system activity accounting tool.
2025-01-31T18:30:01.542271+08:00 thinkstation cron[1248]: (luppy) RELOAD (crontabs/luppy)
2025-01-31T18:30:01.548522+08:00 thinkstation CRON[4011165]: (root) CMD ([ -x /etc/init.d/anacron ] &amp;&amp; if [ ! -d /run/systemd/system ]; then /usr/sbin/invoke-rc.d anacron start &gt;/dev/null; fi)
2025-01-31T18:30:01.554147+08:00 thinkstation CRON[4011172]: (luppy) CMD (/home/luppy/nuttx-rewind-notify/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-notify)
2025-01-31T18:30:01.561773+08:00 thinkstation nuttx-rewind-notify: + export PROMETHEUS_SERVER=luppys-mac-mini.local:9090
2025-01-31T18:30:01.562012+08:00 thinkstation nuttx-rewind-notify: + PROMETHEUS_SERVER=luppys-mac-mini.local:9090
2025-01-31T18:30:01.562086+08:00 thinkstation nuttx-rewind-notify: + script_path=/home/luppy/nuttx-rewind-notify/cron.sh
2025-01-31T18:30:01.565423+08:00 thinkstation nuttx-rewind-notify: +++ dirname -- /home/luppy/nuttx-rewind-notify/cron.sh
2025-01-31T18:30:01.565529+08:00 thinkstation nuttx-rewind-notify: ++ cd -P /home/luppy/nuttx-rewind-notify
2025-01-31T18:30:01.565598+08:00 thinkstation nuttx-rewind-notify: ++ pwd
2025-01-31T18:30:01.565670+08:00 thinkstation nuttx-rewind-notify: + script_dir=/home/luppy/nuttx-rewind-notify
2025-01-31T18:30:01.565742+08:00 thinkstation nuttx-rewind-notify: + cd /home/luppy/nuttx-rewind-notify
2025-01-31T18:30:01.565801+08:00 thinkstation nuttx-rewind-notify: + cargo run
2025-01-31T18:30:01.878649+08:00 thinkstation nuttx-rewind-notify:     Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.21s
2025-01-31T18:30:01.893883+08:00 thinkstation nuttx-rewind-notify:      Running `target/debug/nuttx-rewind-notify`
2025-01-31T18:30:01.920672+08:00 thinkstation nuttx-rewind-notify: query=
2025-01-31T18:30:01.923383+08:00 thinkstation nuttx-rewind-notify:         build_score{
2025-01-31T18:30:01.923533+08:00 thinkstation nuttx-rewind-notify:             target=&quot;rv-virt:knsh64_test8&quot;,
2025-01-31T18:30:01.923643+08:00 thinkstation nuttx-rewind-notify:             build_score_prev=&quot;1&quot;
2025-01-31T18:30:01.923739+08:00 thinkstation nuttx-rewind-notify:         } == 0
2025-01-31T18:30:01.924934+08:00 thinkstation nuttx-rewind-notify:     
2025-01-31T18:30:02.130675+08:00 thinkstation nuttx-rewind-notify: res=Response { url: &quot;http://luppys-mac-mini.local:9090/api/v1/query&quot;, status: 200, headers: {&quot;content-type&quot;: &quot;application/json&quot;, &quot;date&quot;: &quot;Fri, 31 Jan 2025 10:30:02 GMT&quot;, &quot;content-length&quot;: &quot;63&quot;} }
2025-01-31T18:30:27.330670+08:00 thinkstation crontab[4054090]: (luppy) BEGIN EDIT (luppy)
2025-01-31T18:30:30.928696+08:00 thinkstation crontab[4054090]: (luppy) REPLACE (luppy)
2025-01-31T18:30:30.928960+08:00 thinkstation crontab[4054090]: (luppy) END EDIT (luppy)
2025-01-31T18:31:01.144675+08:00 thinkstation cron[1248]: (luppy) RELOAD (crontabs/luppy)
2025-01-31T18:31:01.603569+08:00 thinkstation CRON[4119911]: (luppy) CMD (/home/luppy/nuttx-rewind-notify/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-notify)
2025-01-31T18:31:01.608441+08:00 thinkstation nuttx-rewind-notify: + export PROMETHEUS_SERVER=luppys-mac-mini.local:9090
2025-01-31T18:31:01.608661+08:00 thinkstation nuttx-rewind-notify: + PROMETHEUS_SERVER=luppys-mac-mini.local:9090
2025-01-31T18:31:01.608738+08:00 thinkstation nuttx-rewind-notify: + script_path=/home/luppy/nuttx-rewind-notify/cron.sh
2025-01-31T18:31:01.608876+08:00 thinkstation nuttx-rewind-notify: +++ dirname -- /home/luppy/nuttx-rewind-notify/cron.sh
2025-01-31T18:31:01.609689+08:00 thinkstation nuttx-rewind-notify: ++ cd -P /home/luppy/nuttx-rewind-notify
2025-01-31T18:31:01.609776+08:00 thinkstation nuttx-rewind-notify: ++ pwd
2025-01-31T18:31:01.609959+08:00 thinkstation nuttx-rewind-notify: + script_dir=/home/luppy/nuttx-rewind-notify
2025-01-31T18:31:01.610021+08:00 thinkstation nuttx-rewind-notify: + cd /home/luppy/nuttx-rewind-notify
2025-01-31T18:31:01.610077+08:00 thinkstation nuttx-rewind-notify: + cargo run
2025-01-31T18:31:02.081532+08:00 thinkstation nuttx-rewind-notify:    Compiling nuttx-rewind-notify v1.0.0 (/home/luppy/nuttx-rewind-notify)
2025-01-31T18:31:04.336844+08:00 thinkstation nuttx-rewind-notify:     Finished `dev` profile [unoptimized + debuginfo] target(s) in 2.67s
2025-01-31T18:31:04.615750+08:00 thinkstation nuttx-rewind-notify:      Running `target/debug/nuttx-rewind-notify`
2025-01-31T18:31:04.638879+08:00 thinkstation nuttx-rewind-notify: query=
2025-01-31T18:31:04.639035+08:00 thinkstation nuttx-rewind-notify:         build_score{
2025-01-31T18:31:04.639126+08:00 thinkstation nuttx-rewind-notify:             target=&quot;rv-virt:knsh64_test6&quot;,
2025-01-31T18:31:04.639213+08:00 thinkstation nuttx-rewind-notify:             build_score_prev=&quot;1&quot;
2025-01-31T18:31:04.639304+08:00 thinkstation nuttx-rewind-notify:         } == 0
2025-01-31T18:31:04.642417+08:00 thinkstation nuttx-rewind-notify:     
2025-01-31T18:31:04.845860+08:00 thinkstation nuttx-rewind-notify: res=Response { url: &quot;http://luppys-mac-mini.local:9090/api/v1/query&quot;, status: 200, headers: {&quot;content-type&quot;: &quot;application/json&quot;, &quot;date&quot;: &quot;Fri, 31 Jan 2025 10:31:04 GMT&quot;, &quot;content-length&quot;: &quot;1630&quot;} }
2025-01-31T18:31:04.846089+08:00 thinkstation nuttx-rewind-notify: nuttx_hash_prev=be40c01ddd6f43a527abeae31042ba7978aabb58
2025-01-31T18:31:04.846164+08:00 thinkstation nuttx-rewind-notify: url=https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800059#L85
2025-01-31T18:31:04.846233+08:00 thinkstation nuttx-rewind-notify: board=rv-virt
2025-01-31T18:31:04.846299+08:00 thinkstation nuttx-rewind-notify: config=knsh64_test6
2025-01-31T18:31:04.846384+08:00 thinkstation nuttx-rewind-notify: user=rewind
2025-01-31T18:31:04.846460+08:00 thinkstation nuttx-rewind-notify: query=
2025-01-31T18:31:04.846516+08:00 thinkstation nuttx-rewind-notify:         build_score{
2025-01-31T18:31:04.846614+08:00 thinkstation nuttx-rewind-notify:             target=&quot;rv-virt:knsh64_test6&quot;,
2025-01-31T18:31:04.846706+08:00 thinkstation nuttx-rewind-notify:             nuttx_hash=&quot;be40c01ddd6f43a527abeae31042ba7978aabb58&quot;
2025-01-31T18:31:04.846791+08:00 thinkstation nuttx-rewind-notify:         }
2025-01-31T18:31:04.846878+08:00 thinkstation nuttx-rewind-notify:     
2025-01-31T18:31:04.967500+08:00 thinkstation nuttx-rewind-notify: res=Response { url: &quot;http://luppys-mac-mini.local:9090/api/v1/query&quot;, status: 200, headers: {&quot;content-type&quot;: &quot;application/json&quot;, &quot;date&quot;: &quot;Fri, 31 Jan 2025 10:31:04 GMT&quot;, &quot;content-length&quot;: &quot;1344&quot;} }
2025-01-31T18:31:04.967635+08:00 thinkstation nuttx-rewind-notify: previous_url=https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800063#L80
2025-01-31T18:31:05.506663+08:00 thinkstation nuttx-rewind-notify: pr_url=https://github.com/apache/nuttx/pull/15444
2025-01-31T18:31:05.506806+08:00 thinkstation nuttx-rewind-notify: pr_user=yf13
2025-01-31T18:31:05.506893+08:00 thinkstation nuttx-rewind-notify: raw_url=https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800059/raw/
2025-01-31T18:31:06.178706+08:00 thinkstation nuttx-rewind-notify: 138: $ git clone https://github.com/apache/nuttx
2025-01-31T18:31:06.178905+08:00 thinkstation nuttx-rewind-notify: 147: $ git clone https://github.com/apache/nuttx-apps apps
2025-01-31T18:31:06.179012+08:00 thinkstation nuttx-rewind-notify: 156: $ pushd nuttx
2025-01-31T18:31:06.179112+08:00 thinkstation nuttx-rewind-notify: 158: $ git reset --hard 657247bda89d60112d79bb9b8d223eca5f9641b5
2025-01-31T18:31:06.179256+08:00 thinkstation nuttx-rewind-notify: 159: HEAD is now at 657247bda8 libc/modlib: preprocess gnu-elf.ld
2025-01-31T18:31:06.179451+08:00 thinkstation nuttx-rewind-notify: 160: $ popd
2025-01-31T18:31:06.179558+08:00 thinkstation nuttx-rewind-notify: 163: $ pushd apps
2025-01-31T18:31:06.179626+08:00 thinkstation nuttx-rewind-notify: 165: $ git reset --hard a6b9e718460a56722205c2a84a9b07b94ca664aa
2025-01-31T18:31:06.179694+08:00 thinkstation nuttx-rewind-notify: 166: HEAD is now at a6b9e7184 testing/nettest: Add utils directory and two tcp testcases to the testing framework
2025-01-31T18:31:06.179761+08:00 thinkstation nuttx-rewind-notify: 167: $ popd
2025-01-31T18:31:06.179827+08:00 thinkstation nuttx-rewind-notify: 171: NuttX Source: https://github.com/apache/nuttx/tree/657247bda89d60112d79bb9b8d223eca5f9641b5
2025-01-31T18:31:06.179894+08:00 thinkstation nuttx-rewind-notify: 174: NuttX Apps: https://github.com/apache/nuttx-apps/tree/a6b9e718460a56722205c2a84a9b07b94ca664aa
2025-01-31T18:31:06.179958+08:00 thinkstation nuttx-rewind-notify: 191: $ cd nuttx
2025-01-31T18:31:06.180025+08:00 thinkstation nuttx-rewind-notify: 192: $ tools/configure.sh rv-virt:knsh64
2025-01-31T18:31:06.180088+08:00 thinkstation nuttx-rewind-notify: 239: $ make -j
2025-01-31T18:31:06.180160+08:00 thinkstation nuttx-rewind-notify: 255: $ make -j export
2025-01-31T18:31:06.180225+08:00 thinkstation nuttx-rewind-notify: 256: $ pushd ../apps
2025-01-31T18:31:06.180291+08:00 thinkstation nuttx-rewind-notify: 258: $ ./tools/mkimport.sh -z -x ../nuttx/nuttx-export-12.8.0.tar.gz
2025-01-31T18:31:06.180372+08:00 thinkstation nuttx-rewind-notify: 259: $ make -j import
2025-01-31T18:31:06.180443+08:00 thinkstation nuttx-rewind-notify: 363: $ popd
2025-01-31T18:31:06.180503+08:00 thinkstation nuttx-rewind-notify: 365: $ qemu-system-riscv64 --version
2025-01-31T18:31:06.180569+08:00 thinkstation nuttx-rewind-notify: 366: QEMU emulator version 8.2.2 (Debian 1:8.2.2+ds-0ubuntu1.4)
2025-01-31T18:31:06.181138+08:00 thinkstation nuttx-rewind-notify: 382: $ qemu-system-riscv64 -semihosting -M virt,aclint=on -cpu rv64 -kernel nuttx -nographic
2025-01-31T18:31:06.181212+08:00 thinkstation nuttx-rewind-notify: 384: OpenSBI v1.3
2025-01-31T18:31:06.181285+08:00 thinkstation nuttx-rewind-notify: 432: Boot HART ISA Extensions  : time,sstc
2025-01-31T18:31:06.181373+08:00 thinkstation nuttx-rewind-notify: 433: Boot HART PMP Count       : 16
2025-01-31T18:31:06.181436+08:00 thinkstation nuttx-rewind-notify: 434: Boot HART PMP Granularity : 4
2025-01-31T18:31:06.181511+08:00 thinkstation nuttx-rewind-notify: 435: Boot HART PMP Address Bits: 54
2025-01-31T18:31:06.181575+08:00 thinkstation nuttx-rewind-notify: 436: Boot HART MHPM Count      : 16
2025-01-31T18:31:06.181640+08:00 thinkstation nuttx-rewind-notify: 437: Boot HART MIDELEG         : 0x0000000000001666
2025-01-31T18:31:06.181704+08:00 thinkstation nuttx-rewind-notify: 438: Boot HART MEDELEG         : 0x0000000000f0b509
2025-01-31T18:31:06.181769+08:00 thinkstation nuttx-rewind-notify: 439: ABC[    0.238338] riscv_exception: EXCEPTION: Instruction page fault. MCAUSE: 000000000000000c, EPC: 000000018000001a, MTVAL: 000000018000001a
2025-01-31T18:31:06.181835+08:00 thinkstation nuttx-rewind-notify: 440: [    0.242809] riscv_exception: Segmentation fault in PID 2: /system/bin/init
2025-01-31T18:31:06.181912+08:00 thinkstation nuttx-rewind-notify: 441: 
2025-01-31T18:31:06.181989+08:00 thinkstation nuttx-rewind-notify: status=
2025-01-31T18:31:06.182054+08:00 thinkstation nuttx-rewind-notify: 
2025-01-31T18:31:06.182122+08:00 thinkstation nuttx-rewind-notify: rv-virt : KNSH64_TEST6 - Build Failed (rewind)
2025-01-31T18:31:06.182186+08:00 thinkstation nuttx-rewind-notify: Breaking PR: https://github.com/apache/nuttx/pull/15444
2025-01-31T18:31:06.182251+08:00 thinkstation nuttx-rewind-notify: NuttX Dashboard: https://nuttx-dashboard.org
2025-01-31T18:31:06.182316+08:00 thinkstation nuttx-rewind-notify: Build History: https://nuttx-dashboard.org/d/fe2q876wubc3kc/nuttx-build-history?var-board=rv-virt&amp;var-config=knsh64_test6
2025-01-31T18:31:06.182404+08:00 thinkstation nuttx-rewind-notify: 
2025-01-31T18:31:06.182470+08:00 thinkstation nuttx-rewind-notify: Sorry @yf13: The above PR is failing for rv-virt:knsh64_test6. Could you please take a look? Thanks!
2025-01-31T18:31:06.182531+08:00 thinkstation nuttx-rewind-notify: https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800059#L85
2025-01-31T18:31:06.182596+08:00 thinkstation nuttx-rewind-notify: ```text
2025-01-31T18:31:06.182660+08:00 thinkstation nuttx-rewind-notify: $ git clone https://github.com/apache/nuttx
2025-01-31T18:31:06.182725+08:00 thinkstation nuttx-rewind-notify: $ git clone https://github.com/apache/nuttx-apps apps
2025-01-31T18:31:06.182786+08:00 thinkstation nuttx-rewind-notify: $ pushd nuttx
2025-01-31T18:31:06.182846+08:00 thinkstation nuttx-rewind-notify: $ git reset --hard 657247bda89d60112d79bb9b8d223eca5f9641b5
2025-01-31T18:31:06.182910+08:00 thinkstation nuttx-rewind-notify: HEAD is now at 657247bda8 libc/modlib: preprocess gnu-elf.ld
2025-01-31T18:31:06.182977+08:00 thinkstation nuttx-rewind-notify: $ popd
2025-01-31T18:31:06.183042+08:00 thinkstation nuttx-rewind-notify: $ pushd apps
2025-01-31T18:31:06.183102+08:00 thinkstation nuttx-rewind-notify: $ git reset --hard a6b9e718460a56722205c2a84a9b07b94ca664aa
2025-01-31T18:31:06.183162+08:00 thinkstation nuttx-rewind-notify: HEAD is now at a6b9e7184 testing/nettest: Add utils directory and two tcp testcases to the testing framework
2025-01-31T18:31:06.183227+08:00 thinkstation nuttx-rewind-notify: $ popd
2025-01-31T18:31:06.183288+08:00 thinkstation nuttx-rewind-notify: NuttX Source: https://github.com/apache/nuttx/tree/657247bda89d60112d79bb9b8d223eca5f9641b5
2025-01-31T18:31:06.183361+08:00 thinkstation nuttx-rewind-notify: NuttX Apps: https://github.com/apache/nuttx-apps/tree/a6b9e718460a56722205c2a84a9b07b94ca664aa
2025-01-31T18:31:06.183431+08:00 thinkstation nuttx-rewind-notify: $ cd nuttx
2025-01-31T18:31:06.183496+08:00 thinkstation nuttx-rewind-notify: $ tools/configure.sh rv-virt:knsh64
2025-01-31T18:31:06.183557+08:00 thinkstation nuttx-rewind-notify: $ make -j
2025-01-31T18:31:06.183627+08:00 thinkstation nuttx-rewind-notify: $ make -j export
2025-01-31T18:31:06.183692+08:00 thinkstation nuttx-rewind-notify: $ pushd ../apps
2025-01-31T18:31:06.183762+08:00 thinkstation nuttx-rewind-notify: $ ./tools/mkimport.sh -z -x ../nuttx/nuttx-export-12.8.0.tar.gz
2025-01-31T18:31:06.183822+08:00 thinkstation nuttx-rewind-notify: $ make -j import
2025-01-31T18:31:06.183885+08:00 thinkstation nuttx-rewind-notify: $ popd
2025-01-31T18:31:06.183939+08:00 thinkstation nuttx-rewind-notify: $ qemu-system-riscv64 --version
2025-01-31T18:31:06.184003+08:00 thinkstation nuttx-rewind-notify: QEMU emulator version 8.2.2 (Debian 1:8.2.2+ds-0ubuntu1.4)
2025-01-31T18:31:06.184072+08:00 thinkstation nuttx-rewind-notify: $ qemu-system-riscv64 -semihosting -M virt,aclint=on -cpu rv64 -kernel nuttx -nographic
2025-01-31T18:31:06.184143+08:00 thinkstation nuttx-rewind-notify: OpenSBI v1.3
2025-01-31T18:31:06.184211+08:00 thinkstation nuttx-rewind-notify: Boot HART ISA Extensions  : time,sstc
2025-01-31T18:31:06.184279+08:00 thinkstation nuttx-rewind-notify: Boot HART PMP Count       : 16
2025-01-31T18:31:06.184364+08:00 thinkstation nuttx-rewind-notify: Boot HART PMP Granularity : 4
2025-01-31T18:31:06.184427+08:00 thinkstation nuttx-rewind-notify: Boot HART PMP Address Bits: 54
2025-01-31T18:31:06.184487+08:00 thinkstation nuttx-rewind-notify: Boot HART MHPM Count      : 16
2025-01-31T18:31:06.184541+08:00 thinkstation nuttx-rewind-notify: Boot HART MIDELEG         : 0x0000000000001666
2025-01-31T18:31:06.184600+08:00 thinkstation nuttx-rewind-notify: Boot HART MEDELEG         : 0x0000000000f0b509
2025-01-31T18:31:06.184654+08:00 thinkstation nuttx-rewind-notify: ABC[    0.238338] riscv_exception: EXCEPTION: Instruction page fault. MCAUSE: 000000000000000c, EPC: 000000018000001a, MTVAL: 000000018000001a
2025-01-31T18:31:06.184715+08:00 thinkstation nuttx-rewind-notify: [    0.242809] riscv_exception: Segmentation fault in PID 2: /system/bin/init
2025-01-31T18:31:06.184779+08:00 thinkstation nuttx-rewind-notify: 
2025-01-31T18:31:06.184841+08:00 thinkstation nuttx-rewind-notify: ```
2025-01-31T18:31:06.184904+08:00 thinkstation nuttx-rewind-notify: [(Earlier Commit is OK)](https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800063#L80)
2025-01-31T18:31:06.184969+08:00 thinkstation nuttx-rewind-notify: [(See the Build History)](https://nuttx-dashboard.org/d/fe2q876wubc3kc/nuttx-build-history?var-board=rv-virt&amp;var-config=knsh64_test6)
2025-01-31T18:31:06.185042+08:00 thinkstation nuttx-rewind-notify:             
2025-01-31T18:31:07.364053+08:00 thinkstation nuttx-rewind-notify: snippet_url=
2025-01-31T18:31:07.364225+08:00 thinkstation nuttx-rewind-notify: https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4801057
2025-01-31T18:31:07.781755+08:00 thinkstation nuttx-rewind-notify: res=Response { url: &quot;https://nuttx-feed.org/api/v1/statuses&quot;, status: 200, headers: {&quot;date&quot;: &quot;Fri, 31 Jan 2025 10:31:07 GMT&quot;, &quot;content-type&quot;: &quot;application/json; charset=utf-8&quot;, &quot;content-length&quot;: &quot;3763&quot;, &quot;connection&quot;: &quot;keep-alive&quot;, &quot;cache-control&quot;: &quot;private, no-store&quot;, &quot;content-security-policy&quot;: &quot;default-src &#39;none&#39;; frame-ancestors &#39;none&#39;; form-action &#39;none&#39;&quot;, &quot;etag&quot;: &quot;W/\&quot;9a52e8b22f4bb37b96bfdd8b737c9ae9\&quot;&quot;, &quot;referrer-policy&quot;: &quot;same-origin&quot;, &quot;strict-transport-security&quot;: &quot;max-age=63072000; includeSubDomains&quot;, &quot;vary&quot;: &quot;Authorization, Origin&quot;, &quot;x-content-type-options&quot;: &quot;nosniff&quot;, &quot;x-frame-options&quot;: &quot;DENY&quot;, &quot;x-ratelimit-limit&quot;: &quot;300&quot;, &quot;x-ratelimit-remaining&quot;: &quot;297&quot;, &quot;x-ratelimit-reset&quot;: &quot;2025-01-31T12:00:00.180196Z&quot;, &quot;x-request-id&quot;: &quot;4e920371-0b4f-4a27-9ed0-2f6efee59eec&quot;, &quot;x-runtime&quot;: &quot;0.051579&quot;, &quot;x-xss-protection&quot;: &quot;0&quot;, &quot;cf-cache-status&quot;: &quot;DYNAMIC&quot;, &quot;report-to&quot;: &quot;{\&quot;endpoints\&quot;:[{\&quot;url\&quot;:\&quot;https:\/\/a.nel.cloudflare.com\/report\/v4?s=V2keLESz1ucPXJh%2BkCWpkuJb4jdGM2BEHwg2wVQfX1KTdo0qK1BKt7u5t%2BIZBtAW6hz468oucrG
2025-01-31T18:31:07.784412+08:00 thinkstation nuttx-rewind-notify: 8lw6hMtBflMCo3iRwhA3QkkiXuy1oEN7rlzCRWEzCVnt%2F1JxM4Jc3kQ%3D%3D\&quot;}],\&quot;group\&quot;:\&quot;cf-nel\&quot;,\&quot;max_age\&quot;:604800}&quot;, &quot;nel&quot;: &quot;{\&quot;success_fraction\&quot;:0,\&quot;report_to\&quot;:\&quot;cf-nel\&quot;,\&quot;max_age\&quot;:604800}&quot;, &quot;server&quot;: &quot;cloudflare&quot;, &quot;cf-ray&quot;: &quot;90a907c148f46045-SIN&quot;, &quot;alt-svc&quot;: &quot;h3=\&quot;:443\&quot;; ma=86400&quot;, &quot;server-timing&quot;: &quot;cfL4;desc=\&quot;?proto=TCP&amp;rtt=2820&amp;min_rtt=2083&amp;rtt_var=1243&amp;sent=4&amp;recv=7&amp;lost=0&amp;retrans=0&amp;sent_bytes=2833&amp;recv_bytes=1464&amp;delivery_rate=1382999&amp;cwnd=196&amp;unsent_bytes=0&amp;cid=7928dd566ec28f03&amp;ts=94&amp;x=0\&quot;&quot;} }
2025-01-31T18:31:07.784581+08:00 thinkstation nuttx-rewind-notify: Body: {&quot;id&quot;:&quot;113922504467871604&quot;,&quot;created_at&quot;:&quot;2025-01-31T10:31:05.147Z&quot;,&quot;in_reply_to_id&quot;:null,&quot;in_reply_to_account_id&quot;:null,&quot;sensitive&quot;:false,&quot;spoiler_text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;public&quot;,&quot;language&quot;:&quot;en&quot;,&quot;uri&quot;:&quot;https://nuttx-feed.org/users/nuttx_build/statuses/113922504467871604&quot;,&quot;url&quot;:&quot;https://nuttx-feed.org/@nuttx_build/113922504467871604&quot;,&quot;replies_count&quot;:0,&quot;reblogs_count&quot;:0,&quot;favourites_count&quot;:0,&quot;edited_at&quot;:null,&quot;favourited&quot;:false,&quot;reblogged&quot;:false,&quot;muted&quot;:false,&quot;bookmarked&quot;:false,&quot;pinned&quot;:false,&quot;content&quot;:&quot;\u003cp\u003eDetails: \u003ca href=\&quot;https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4801057\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener noreferrer\&quot; translate=\&quot;no\&quot;\u003e\u003cspan class=\&quot;invisible\&quot;\u003ehttps://\u003c/span\u003e\u003cspan class=\&quot;ellipsis\&quot;\u003egitlab.com/lupyuen/nuttx-build\u003c/span\u003e\u003cspan class=\&quot;invisible\&quot;\u003e-log/-/snippets/4801057\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp\u003erv-virt : KNSH64_TEST6 - Build Failed (rewind)\u003cbr /\u003eBreaking PR: \u
2025-01-31T18:31:07.784717+08:00 thinkstation nuttx-rewind-notify: 003ca href=\&quot;https://github.com/apache/nuttx/pull/15444\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener noreferrer\&quot; translate=\&quot;no\&quot;\u003e\u003cspan class=\&quot;invisible\&quot;\u003ehttps://\u003c/span\u003e\u003cspan class=\&quot;ellipsis\&quot;\u003egithub.com/apache/nuttx/pull/1\u003c/span\u003e\u003cspan class=\&quot;invisible\&quot;\u003e5444\u003c/span\u003e\u003c/a\u003e\u003cbr /\u003eNuttX Dashboard: \u003ca href=\&quot;https://nuttx-dashboard.org\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener noreferrer\&quot; translate=\&quot;no\&quot;\u003e\u003cspan class=\&quot;invisible\&quot;\u003ehttps://\u003c/span\u003e\u003cspan class=\&quot;\&quot;\u003enuttx-dashboard.org\u003c/span\u003e\u003cspan class=\&quot;invisible\&quot;\u003e\u003c/span\u003e\u003c/a\u003e\u003cbr /\u003eBuild History: \u003ca href=\&quot;https://nuttx-dashboard.org/d/fe2q876wubc3kc/nuttx-build-history?var-board=rv-virt\u0026amp;var-config=knsh64_test6\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener noreferrer\&quot; translate=\&quot;no\&quot;\u003e\u003cspan class=\&quot;invisible\&quot;\u003ehttps://\u003c/span\u003e\u003cspan class=\&quot;ellipsis
2025-01-31T18:31:07.784854+08:00 thinkstation nuttx-rewind-notify: \&quot;\u003enuttx-dashboard.org/d/fe2q876w\u003c/span\u003e\u003cspan class=\&quot;invisible\&quot;\u003eubc3kc/nuttx-build-history?var-board=rv-virt\u0026amp;var-config=knsh64_test6\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp\u003eSorry @yf13: The above PR is failing for rv-virt:knsh64_test6. Could you please take a look? Thanks!\u003cbr /\u003e\u003ca href=\&quot;https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800059#L85\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener noreferrer\&quot; translate=\&quot;no\&quot;\u003e\u003cspan class=\&quot;invisible\&quot;\u003ehttps://\u003c/span\u003e\u003cspan class=\&quot;ellipsis\&quot;\u003egitlab.com/lupyuen/nuttx-build\u003c/span\u003e\u003cspan class=\&quot;invisible\&quot;\u003e-log/-/snippets/4800059#L85\u003c/span\u003e\u003c/a\u003e\u003cbr /\u003e``\u003c/p\u003e&quot;,&quot;filtered&quot;:[],&quot;reblog&quot;:null,&quot;application&quot;:{&quot;name&quot;:&quot;NuttX Dashboard&quot;,&quot;website&quot;:&quot;https://nuttx-dashboard.org&quot;},&quot;account&quot;:{&quot;id&quot;:&quot;113642720924513889&quot;,&quot;username&quot;:&quot;nuttx_build&quot;,&quot;acct&quot;:&quot;nuttx_build&quot;,&quot;display_name&quot;:&quot;&quot;,&quot;locked&quot;:false,&quot;bot&quot;:false,&quot;discoverable&quot;
2025-01-31T18:31:07.784992+08:00 thinkstation nuttx-rewind-notify: :null,&quot;indexable&quot;:false,&quot;group&quot;:false,&quot;created_at&quot;:&quot;2024-12-13T00:00:00.000Z&quot;,&quot;note&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://nuttx-feed.org/@nuttx_build&quot;,&quot;uri&quot;:&quot;https://nuttx-feed.org/users/nuttx_build&quot;,&quot;avatar&quot;:&quot;https://nuttx-feed.org/avatars/original/missing.png&quot;,&quot;avatar_static&quot;:&quot;https://nuttx-feed.org/avatars/original/missing.png&quot;,&quot;header&quot;:&quot;https://nuttx-feed.org/headers/original/missing.png&quot;,&quot;header_static&quot;:&quot;https://nuttx-feed.org/headers/original/missing.png&quot;,&quot;followers_count&quot;:1,&quot;following_count&quot;:0,&quot;statuses_count&quot;:781,&quot;last_status_at&quot;:&quot;2025-01-31&quot;,&quot;hide_collections&quot;:null,&quot;noindex&quot;:false,&quot;emojis&quot;:[],&quot;roles&quot;:[],&quot;fields&quot;:[]},&quot;media_attachments&quot;:[],&quot;mentions&quot;:[],&quot;tags&quot;:[],&quot;emojis&quot;:[],&quot;card&quot;:null,&quot;poll&quot;:null}
2025-01-31T18:31:07.785121+08:00 thinkstation nuttx-rewind-notify: status_id=113922504467871604
2025-01-31T18:31:07.785208+08:00 thinkstation nuttx-rewind-notify: 
2025-01-31T18:31:07.785296+08:00 thinkstation nuttx-rewind-notify: all_builds=
2025-01-31T18:31:07.785407+08:00 thinkstation nuttx-rewind-notify: {
2025-01-31T18:31:07.785494+08:00 thinkstation nuttx-rewind-notify:   &quot;rv-virt:knsh64_test6&quot;: {
2025-01-31T18:31:07.785583+08:00 thinkstation nuttx-rewind-notify:     &quot;status_id&quot;: &quot;113922504467871604&quot;,
2025-01-31T18:31:07.785670+08:00 thinkstation nuttx-rewind-notify:     &quot;users&quot;: [
2025-01-31T18:31:07.785753+08:00 thinkstation nuttx-rewind-notify:       &quot;rewind&quot;
2025-01-31T18:31:07.785843+08:00 thinkstation nuttx-rewind-notify:     ]
2025-01-31T18:31:07.785932+08:00 thinkstation nuttx-rewind-notify:   }
2025-01-31T18:31:07.786033+08:00 thinkstation nuttx-rewind-notify: }
2025-01-31T18:31:07.786127+08:00 thinkstation nuttx-rewind-notify: 
&gt;&gt;</code></pre></div><h1 id="cron-job"><a class="doc-anchor" href="#cron-job">¬ß</a>8 Cron Job</h1>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>https://help.ubuntu.com/community/CronHowto
. $HOME/gitlab-token.sh &amp;&amp; glab auth status &amp;&amp; cd $HOME/nuttx-build-farm &amp;&amp; ./rewind-build.sh rv-virt:knsh64_test8 HEAD HEAD 1 20

crontab -e

## Run every day at 00:00 UTC
0 0 * * * /home/luppy/nuttx-build-farm/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-build

## Run every hour at 00:16, 01:16, 12:16, ...
16 * * * * /home/luppy/nuttx-build-farm/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-build

tail -f /var/log/syslog
&lt;&lt;
2025-01-31T15:15:33.725765+08:00 thinkstation crontab[2982952]: (luppy) BEGIN EDIT (luppy)
2025-01-31T15:15:53.889440+08:00 thinkstation crontab[2982952]: (luppy) REPLACE (luppy)
2025-01-31T15:15:53.889656+08:00 thinkstation crontab[2982952]: (luppy) END EDIT (luppy)

2025-01-31T17:13:01.834380+08:00 thinkstation CRON[1234832]: (luppy) CMD (/home/luppy/nuttx-build-farm/cron.sh 2&gt;&amp;1 | logger -t nuttx-rewind-build)
2025-01-31T17:13:01.834657+08:00 thinkstation nuttx-rewind-build: + target=rv-virt:knsh64_test8
2025-01-31T17:13:01.834800+08:00 thinkstation nuttx-rewind-build: + nuttx_hash=HEAD
2025-01-31T17:13:01.834869+08:00 thinkstation nuttx-rewind-build: + apps_hash=HEAD
2025-01-31T17:13:01.834924+08:00 thinkstation nuttx-rewind-build: + min_commits=1
2025-01-31T17:13:01.834982+08:00 thinkstation nuttx-rewind-build: + max_commits=20
2025-01-31T17:13:01.835036+08:00 thinkstation nuttx-rewind-build: + script_path=/home/luppy/nuttx-build-farm/cron.sh
2025-01-31T17:13:01.835093+08:00 thinkstation nuttx-rewind-build: +++ dirname -- /home/luppy/nuttx-build-farm/cron.sh
2025-01-31T17:13:01.835145+08:00 thinkstation nuttx-rewind-build: ++ cd -P /home/luppy/nuttx-build-farm
2025-01-31T17:13:01.835197+08:00 thinkstation nuttx-rewind-build: ++ pwd
2025-01-31T17:13:01.835249+08:00 thinkstation nuttx-rewind-build: + script_dir=/home/luppy/nuttx-build-farm
2025-01-31T17:13:01.835301+08:00 thinkstation nuttx-rewind-build: + cd /home/luppy/nuttx-build-farm
2025-01-31T17:13:01.835359+08:00 thinkstation nuttx-rewind-build: + ./rewind-build.sh rv-virt:knsh64_test8 HEAD HEAD 1 20
2025-01-31T17:13:01.835415+08:00 thinkstation nuttx-rewind-build: Now running https://github.com/lupyuen/nuttx-build-farm/blob/main/rewind-build.sh rv-virt:knsh64_test8 HEAD HEAD 1 20
...
2025-01-31T17:17:56.123175+08:00 thinkstation nuttx-rewind-build: - Creating snippet in lupyuen/nuttx-build-log
2025-01-31T17:17:57.586891+08:00 thinkstation nuttx-rewind-build: https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4801032
2025-01-31T17:17:57.591633+08:00 thinkstation nuttx-rewind-build: + next_hash=4606f1f9e1e897ce508f9dcadcc57dea979041b5
2025-01-31T17:17:57.591815+08:00 thinkstation nuttx-rewind-build: + nuttx_hash=11a47a4b0c3b4c371578bc3e578b2088dffbb678
2025-01-31T17:17:57.591922+08:00 thinkstation nuttx-rewind-build: + timestamp=2025-01-31T04:53:36
2025-01-31T17:17:57.592019+08:00 thinkstation nuttx-rewind-build: + (( count++ ))
2025-01-31T17:17:57.592118+08:00 thinkstation nuttx-rewind-build: + [[ 1 == \1 ]]
2025-01-31T17:17:57.592208+08:00 thinkstation nuttx-rewind-build: + break
2025-01-31T17:17:57.592298+08:00 thinkstation nuttx-rewind-build: + set +x
2025-01-31T17:17:57.592406+08:00 thinkstation nuttx-rewind-build: ***** Done!
&gt;&gt;

Without logger:
&lt;&lt;
2025-01-31T15:40:47.812335+08:00 thinkstation CRON[280259]: (CRON) info (No MTA installed, discarding output)
&gt;&gt;

ls -l /tmp
drwxrwxr-x  4 luppy luppy    4096 Jan 31 15:17 rewind-build-rv-virt:knsh64_test8
drwxrwxr-x  3 luppy luppy    4096 Jan 31 15:17 build-test-knsh64

tail -f /tmp/rewind-build-rv-virt:knsh64_test8/*.log
&lt;&lt;
Final memory usage:
VARIABLE  BEFORE   AFTER
======== ======== ========
arena       81000    81000
ordblks         2        3
mxordblk    7cff8    78ff8
uordblks     2660     4570
fordblks    7e9a0    7ca90
user_main: Exiting
ostest_main: Exiting with status 0

===== Test OK

+ res=0
+ set -e
+ set +x
res=0
====================================================================================
+ echo res=0
res=0
+ [[ 0 != \0 ]]
+ echo &#39;***** Build / Test OK for Previous Commit: nuttx @ 11a47a4b0c3b4c371578bc3e578b2088dffbb678 / nuttx-apps @ e1e28eb88ad153711223cab612f5d5bd019f8dd4&#39;
***** Build / Test OK for Previous Commit: nuttx @ 11a47a4b0c3b4c371578bc3e578b2088dffbb678 / nuttx-apps @ e1e28eb88ad153711223cab612f5d5bd019f8dd4
+ [[ 4606f1f9e1e897ce508f9dcadcc57dea979041b5 != \4\6\0\6\f\1\f\9\e\1\e\8\9\7\c\e\5\0\8\f\9\d\c\a\d\c\c\5\7\d\e\a\9\7\9\0\4\1\b\5 ]]
+ df -H
&gt;&gt;

Check the snippets
https://gitlab.com/lupyuen/nuttx-build-log/-/snippets</code></pre></div><h1 id="convert-to-commit-id"><a class="doc-anchor" href="#convert-to-commit-id">¬ß</a>9 Convert to Commit ID</h1>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>If Hash=HEAD:
Convert to Commit ID

build_score{
    config!=&quot;leds64_zig&quot;,
    user!=&quot;nuttxlinux&quot;,
    user!=&quot;nuttxmacos&quot;,
    user!=&quot;jerpelea&quot;
} &lt; 0.5
</code></pre></div><h1 id="delete-snippet"><a class="doc-anchor" href="#delete-snippet">¬ß</a>10 Delete Snippet</h1>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Delete Snippet
https://docs.gitlab.com/ee/api/snippets.html#delete-snippet

curl --request DELETE \
  --header &quot;PRIVATE-TOKEN: &lt;your_access_token&gt;&quot; \
  --url &quot;https://gitlab.example.com/api/v4/snippets/1&quot;</code></pre></div><h1 id="create-snippet"><a class="doc-anchor" href="#create-snippet">¬ß</a>11 Create Snippet</h1>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>Create Snippet
https://docs.gitlab.com/ee/api/snippets.html#create-new-snippet

snippet.json
&lt;&lt;
{
  &quot;title&quot;: &quot;This is a snippet&quot;,
  &quot;description&quot;: &quot;Hello World snippet&quot;,
  &quot;visibility&quot;: &quot;public&quot;,
  &quot;files&quot;: [
    {
      &quot;content&quot;: &quot;Hello world&quot;,
      &quot;file_path&quot;: &quot;test.txt&quot;
    }
  ]
}
&gt;&gt;

. $HOME/gitlab-token.sh
user=lupyuen
repo=nuttx-build-log
curl --url https://gitlab.com/api/v4/projects/$user%2F$repo/snippets \
  --header &#39;Content-Type: application/json&#39; \
  --header &quot;PRIVATE-TOKEN: $GITLAB_TOKEN&quot; \

curl --request POST &quot;https://gitlab.com/api/v4/projects/$user%2F$repo/snippets&quot; \
  --header &#39;Content-Type: application/json&#39; \
  --header &quot;PRIVATE-TOKEN: $GITLAB_TOKEN&quot; \
  -d @snippet.json

https://gitlab.com/lupyuen/nuttx-build-log/-/snippets/4800488</code></pre></div><h1 id="test-failed-vs-test-ok"><a class="doc-anchor" href="#test-failed-vs-test-ok">¬ß</a>12 Test Failed vs Test OK</h1>
<p>TODO</p>
<div class="example-wrap"><pre class="language-text"><code>nuttx_hash_next
nuttx_hash_prev

apps_hash_next
apps_prev_next

build_score_next
build_score_prev

if group == &quot;unknown&quot;
Search for
&quot;build / test failed&quot; vs &quot;build / test ok&quot;
&quot;this commit&quot; vs &quot;previous commit&quot; vs &quot;next commit&quot;

extract nuttx hash
extract apps hash

if failed: build_score=0
if successful: build_score=1</code></pre></div><h1 id="be-kind-rewind"><a class="doc-anchor" href="#be-kind-rewind">¬ß</a>13 Be Kind, Rewind!</h1>
<p>TODO</p>
<h1 id="whats-next"><a class="doc-anchor" href="#whats-next">¬ß</a>14 What‚Äôs Next</h1>
<p>TODO: Git Bisect? Assume &lt; 20 commits. If necessary: Test and rewind more often</p>
<p>TODO: nsh, nsh64, knsh, knsh64, ox64 emulator, sg2000 emulator, sg2000 board?</p>
<p>TODO: @nuttxpr test rv-virt:knsh64. Security?</p>
<p>TODO: I might try a scaled-down simpler implementation that has less security risk. For example, when I post a PR Comment <code>@nuttxpr please test</code>, then our Test Bot will download the PR and run Build + Test on QEMU RISC-V ü§î</p>
<p>TODO: Why not Docker</p>
<p>Special Thanks to <strong>Mr Gregory Nutt</strong> for your guidance and kindness. I‚Äôm also grateful to <a href="https://lupyuen.org/articles/sponsor"><strong>My Sponsors</strong></a>, for supporting my writing.</p>
<ul>
<li>
<p><a href="https://lupyuen.org/articles/sponsor"><strong>Sponsor me a coffee</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/nuttx-sg2000"><strong>My Current Project: ‚ÄúApache NuttX RTOS for Sophgo SG2000‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/nuttx-ox64"><strong>My Other Project: ‚ÄúNuttX for Ox64 BL808‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/nuttx-star64"><strong>Older Project: ‚ÄúNuttX for Star64 JH7110‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://nuttx-forge.org/lupyuen/pinephone-nuttx"><strong>Olderer Project: ‚ÄúNuttX for PinePhone‚Äù</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.org"><strong>Check out my articles</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.org/rss.xml"><strong>RSS Feed</strong></a></p>
</li>
</ul>
<p><em>Got a question, comment or suggestion? Create an Issue or submit a Pull Request here‚Ä¶</em></p>
<p><a href="https://codeberg.org/lupyuen/lupyuen.org/src/branch/master/src/rewind.md"><strong>lupyuen.org/src/rewind.md</strong></a></p>

    
    <!-- Begin scripts/rustdoc-after.html: Post-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker and Prism Theme -->
    <script src="../theme.js"></script>
    <script src="../prism.js"></script>
    <!-- Theme Picker and Prism Theme -->

    <!-- End scripts/rustdoc-after.html -->
    

</body>
</html>